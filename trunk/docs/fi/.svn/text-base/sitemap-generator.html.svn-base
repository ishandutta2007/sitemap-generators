<html lang="fi"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"> <link rel="stylesheet" href="http://www.google.com/google.css"> <link rel="stylesheet" href="../leftnav.css"> <style>
<!--
body,td,font,p,a{font-family:arial,sans-serif}
.i { margin-left: 1em; margin-right: 2em; }
//.style1 {font-weight: bold}
.style1 {font-weight: bold}
.d {color:#999999;text-decoration:italics;font-size:10px;}
.changes {color: #FF0000}
-->
</style> <script src=" https://ssl.google-analytics.com/urchin.js " type="text/javascript">
</script> <script type="text/javascript">
  _uacct="UA-18009-2";
  _utcp="/webmasters/sitemaps/";
  _uanchor=1; 
  urchinTracker();
</script>  <title>Googlen Web-ylläpidon työkalut</title> </head> <body class="search" bgcolor="#ffffff" text="#000000" link="#0000CC" vlink="#800080" alink="#ff0000" topmargin="3"> <table width="95%" border="0" cellpadding="0" cellspacing="2">  <tr valign="top">  <td width="1%"><a href="https://www.google.com/webmasters/sitemaps/"> <img src="http://www.google.com/images/google_sm.gif" hspace="15" height="59" width="143" vspace="5" alt="Palaa Googlen etusivulle." border="0"></a></td>  <td width="100%" valign="middle">  <table width="100%" border="0" cellspacing="0" cellpadding="0">  <tr>  <td><font size="+0"><b>Web-ylläpidon työkalut</b></font></td>  </tr>  <tr>  <td style="border-bottom:1px solid #999999" height="1"><img width="1" height="1" alt=""></td>  </tr>  </table>  </td>  </tr> </table> <table border="0" cellpadding="2" cellspacing="0" width="95%">  <tr>  <td width="175" valign="top">  <font size="-1">  <p class="sidenavlink"><a href="about.html">Tietoja Googlen Web-ylläpidon työkaluista</a></p>  <p class="sidenavlink"><a href="protocol.html">Sitemap-protokollan käyttäminen</a></span><p class="sidenavtoc">Sivustokartan luontitoiminnon käyttäminen</p> <p class="sidenavlink"><a href="http://www.google.com/webmasters/">Googlen Web-ylläpitokeskus</a></p>  </font></td>  <td background="http://www.google.com/images/dot2.gif" valign="bottom" width="5"><img src="http://www.google.com/images/dot2.gif" width="1" height="1"></td>  <td style="background-color: #ffffff" width="10" valign="top"><img src="http://www.google.com/images/cleardot.gif" width="10" height="1"></td>  <td>  <div class="content">   <p><strong>Sisällöt</strong></p>  <p><font size="-1"><a href="#before">Ennen kuin aloitat</a><br><a href="#download">Sivustokartan luontitoiminnon ohjelmatiedostot</a><br><a href="#config">Määritystiedoston luominen</a><br><a href="#copy">Tiedostojen lataaminen Web-palvelimeen</a><br><a href="#execute">Sivustokartan muodostavan komentosarjan suorittaminen</a><br><a href="#submitting">Sivustokartan lähettäminen Googlelle</a><br><a href="#troubleshoot">Vianmääritys</a>  </font></p>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="before"></a><b>Ennen kuin aloitat</b></td>  </tr>  </tbody></table>  <p><font size="-1">Google Sitemapsin luontitoiminto on Python-komentosarja, joka luo sivustosi sivustokartan Sitemap-protokollan avulla. Komentosarja voi luoda sivustokarttoja URL-osoiteluetteloista, Web-palvelinhakemistoista tai käyttölokeista. Komentosarjan käyttö edellyttää seuraavaa: </font></p>   <ul>  <li><font size="-1">Sinun on kyettävä luomaan yhteys Web-palvelimeesi ja suorittamaan siinä ohjelmia tai komentosarjoja. </font></li>  <li><font size="-1">Web-palvelimessasi on oltava asennettuna Python 2.2 tai myöhempi versio. </font></li>  <li><font size="-1">Sinun on tiedettävä komento, joka aloittaa Pythonin. (Tavallisesti komento on <strong>python</strong>, mutta se voi vaihdella asennuksen mukaan. Jos Web-palvelimeen on asennettu kaksi Python-versiota, <strong>python</strong>-komento voi kutsua aikaisempaa versiota ja <strong>python2</strong>-komento voi kutsua myöhempää versiota.) </font></li>  <li><font size="-1">Sinun on tiedettävä sivustosi hakemistopolku. Jos Web-palvelimesi isännöi yhtä sivustoa, polku voi olla <strong>var/www/html</strong>. Jos sinulla on virtuaalinen palvelin, joka isännöi useita sivustoja, polku voi olla <strong>home/virtual/site1/fst/var/www/html</strong>. </font></li>  <li><font size="-1">Sinun on kyettävä lataamaan tiedostoja Web-palvelimeesi (käyttämällä esimerkiksi FTP:tä). </font></li>  <li><font size="-1">Jos aiot luoda käyttölokeihin perustuvan URL-osoiteluettelon, sinun on tunnettava lokeissa käyttetty merkistö sekä niiden täydelliset polut. </font></li>  </ul>   <p><font size="-1">Jos et ole varma asiasta, voit tarkistaa sen Web-palveluntarjoajaltasi. </font></p>  <font size="-1">  <p>Nyt olet valmis aloittamaan. Tässä esitellään, mitä sinun tarvitsee tehdä.</p>  </font>  <font size="-1">  <ol>  <li><font size="-1"><a href="#download">Lataa</a> sivustokartan luontitoiminnon ohjelmatiedostot. Pura tiedostot paikalliseen hakemistoon. </font></li>  <li><font size="-1"><a href="#config">Luo sivustosi määritystiedosto</a> mukana olevan <strong>example_config.xml</strong>-tiedoston mallin mukaan. Muuta tiedostoa sivustosi tarpeiden mukaan ja tallenna se. </font></li>  <li><font size="-1"><a href="#copy">Lataa tarvittavat tiedostot</a> Web-palvelimeesi. </font></li>  <li><font size="-1"><a href="#execute">Suorita</a> <strong>sitemap_gen.py</strong>. </font></li>  <li><font size="-1"><a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34575&topic=8496">Lisää</a> muodostettu sivustokartta omaan Googlen Web-ylläpidon työkalut -tiliisi. </font></li>  <li><font size="-1"><a href="#recur">Määritä toistuva komentorivi</a>. (valinnainen) </font></li>  </ol>  </font>   <p><font size="-1">Jos et voi käyttää sivustokartan luontitoimintoa, voit lisätä sivustokartan omaan Googlen Web-ylläpidon työkalut -tiliisi <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34606&topic=8516">toisessa muodossa</a>, vaikkapa tavallisena tekstitiedostona. Voit niin ikään löytää linkkejä muiden valmistajien Google Sitemapsia tukeviin ohjelmiin <a href="http://code.google.com/sm_thirdparty.html">täältä</a>.</font></p>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="download"></a><b>1. Sivustokartan luontitoiminnon ohjelmatiedostojen lataaminen</b></td>  </tr>  </tbody></table>  <font size="-1">  <p>Sivustokartan luontitoiminnon tiedostot ovat saatavissa ZIP- ja GZ-arkistointimuodoissa <font size="-1">seuraavasta kohdasta:</font></p>  </font>  <p><font size="-1"><a href="http://www.sourceforge.net/project/showfiles.php?group_id=137793&amp;package_id=153422">http://sourceforge.net/project/showfiles.php?group_id=137793&amp;package_id=153422</a></font></p>  <font size="-1">  <p>Kun lataat arkiston, pura se paikalliseen hakemistoon. Etsi seuraavat tiedostot:</p>  <ul>  <li><strong> README</strong> -tiedosto sisältää viimeisimmät tiedot tästä työkalusta</li>  <li><strong> sitemap_gen.py</strong> &#8212;sivustokarttasi luova python-komentosarja.</li>  <li><strong> example_config.xml</strong> &#8212;määritystiedostomalli, jonka avulla voit ilmoittaa sivustosi määritykset</li>  <li><strong> example_urllist.txt</strong> &#8212;URL-luettelomalli, jota voit käyttää, mikäli haluat luoda itse määritettäviin URL-osoitteisiin perustuvan sivustokartan</li>  </ul>  </font>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="config"></a><b>2a. Määritystiedoston luominen</b></td>  </tr>  </tbody></table>  <font size="-1">  </font><p><font size="-1">Tässä osassa kerrotaan yksityiskohtaisesti, miten määritystiedosto luodaan. Osassa esitellään myös käytettävissä olevien asetusten <a href="#config_reference">täydet kuvaukset</a>. Jos olet luomassa <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34627&topic=8493">Mobile Sitemaps</a> -sivustokarttaa, katso <a href="#creating_mobile">mobiilisivustojen lisäohjeet</a>.</font></p>  <font size="-1"><p>Luodaksesi määritystiedoston sivustoasi varten tarvitset seuraavat tiedot:</p>  <ul>  <li>Sivustosi perus-URL-osoite (kuten <strong>http://www.example.com</strong>/). Varmista, että sisällytät protokollan (kuten <strong>http://</strong>). Esimerkiksi <strong>http://www.google.com</strong> on kelvollinen base-url-määritys, mutta <strong>www.google.com</strong> ei ole.</li>   
<li>Web-palvelimen polun kohta, jonne haluat tallentaa sivustokartan. Tavallisesti tämä on perus-URL-osoitteen polku, sillä sivustokartta ei voi sisältää URL-osoitteita, jotka ovat sivustokartan sijaintia ylemmällä hakemistotasolla. Kun suoritat Google Sitemap -luontitoiminnon, se luo sivustokartan ja sijoittaa sen määrittämääsi kohtaan.</li>   <li>Menetelmät, joita haluat sivustokartan luontitoiminnon käyttävän sivustokartan luomisessa. Voit käyttää mitä tahansa menetelmien yhdistelmää. Seuraavat menetelmät ovat käytettävissä:</li>  </ul>   </font><ol> <ul>  <li><font size="-1"><strong> <a href="#URL">URL-osoite</a></strong> &#8212;merkitse yksittäiset URL-osoitteet tähän määritystiedoston kohtaan yhdessä kutakin URL-osoitetta koskevien tietojen kanssa. Käytät tavallisesti tätä menetelmää jonkun toisen menetelmän kanssa silloin, kun sisällytät manuaalisesti ne ylimääräiset URL-osoitteet, joita muut menetelmät eivät poimi. </font></li>  <li><font size="-1"><strong><a href="#urllist">URL-osoiteluettelo</a> </strong> &#8212;osoita sen tekstitiedoston määritystiedosto, joka sisältää URL-osoiteluettelon. Voit käyttää tätä menetelmää, kun tämä tekstitiedosto on jo olemassa tai kun käytät URL-osoiteluettelon luomisessa komentoriviä. </font></li>  <li><font size="-1"><strong><a href="#directory">Hakemistopolut</a></strong> &#8212;määritä sivustosi hakemistopolut sekä polkuja vastaavat URL-osoitteet. Sivustokartan luontitoiminto luo URL-osoiteluettelon kyseisten hakemistojen sisällön perusteella. Voit käyttää tätä menetelmää, jos sivustosi sisältää staattisia HTML-tiedostoja. </font></li>  <li><font size="-1"><strong> <a href="#logs">Käyttölokit</a></strong> &#8212;viittaavat lokitiedostojesi polkuun. Sivustokartan luontitoiminto luo URL-osoiteluettelon lokeihin sisältyvien URL-osoitteiden perusteella. Voit käyttää tätä menetelmää, jos sivustosi sisältää dynaamisia sivuja. </font></li>  <li><font size="-1"><strong> <a href="#sitemap">Sitemap</a></strong> &#8212;ilmoittaa sivustokartan luontitoiminnon avulla luotujen valmiiden sivustokarttojen polun ja tiedostonimen. Sivustokartan luontitoiminto luo yhden sivustokartan, joka sisältää kunkin sivustokartan sisältämät URL-osoitteet. Tämä on käyttökelpoinen tapa, mikäli olemassa on useita pienehköjä sivustokarttoja, jotka halutaan yhdistää yhdeksi suureksi sivustokartaksi. </font></li>  </ul>  </ol>   <font size="-1"><p><b><a name="create_config"></a>Luo määritystiedosto seuraavasti:</b></p>  </font>  <ol>  <font size="-1"> <li>Avaa <strong>example_config.xml</strong>-tiedosto tekstinkäsittelyohjelmassa. Tallenna se uutena tiedostona (kuten <strong>config.xml</strong> tai <strong>mysite_config.xml</strong>).</li>  </font>    <font size="-1">  <li>Etsi sivuston määritysosa:</li>  </font>   <pre>&lt;site 
base_url="http://www.example.com/" 
store_into="/var/www/docroot/sitemap.xml.gz"
verbose="1"&gt;</pre>   <font size="-1"><li>Muuta <strong>base_url</strong>-arvo sivustosi URL-osoitteeksi.</li>   <li>Muuta <strong>store_into</strong>-arvoksi Web-palvelimellasi oleva polku, jonne tallennat sivustokartan ja sitä varten käytettävän tiedostonimen. Tavallisesti tämä on URL:n päätason polku, koska Google voi käyttää vain URL-osoitteita, jotka ovat joko samalla tasolla sivustokartan hakemiston kanssa tai tämän alihakemistoja. Voit määrittää suhteellisen polun siitä palvelimen hakemistosta, jonne tallensit komentosarjan tai Web-palvelimen päähakemiston absoluuttisen osoitteen. Jos tallennat komentotiedoston URL:n päätason hakemistoon, pelkkä tiedostonimi riittää.</li>  </font>  <font size="-1"></font><font size="-1"><li>Etsi luontimenetelmien kohdat, joiden alussa on merkintä <span class="style1">** MODIFY</span> <span class="style1">OR DELETE **</span>. Kukin näistä kohdista vastaa sivustokartan luontimenetelmää.</li>  <li>Poista niitä menetelmiä vastaavat osat, joita et aio käyttää.</li>  <li>Noudata käyttämiesi menetelmien osalta alla olevia ohjeita.</li>  <p><strong> URL-osoite<a name="URL"></a></strong></p>  <p>Etsi seuraava kohta:</p>  </font>  <pre>&lt;!-- ** MODIFY or DELETE ** 
"url" nodes specify individual URLs to include in the map. &lt;br&gt;

Required attributes: 
href - the URL

Optional attributes: 
lastmod - timestamp of last modification (ISO8601 format) 
changefreq - how often content at this URL is usually updated
priority - value 0.0 to 1.0 of relative importance in your site 
--&gt; 

&lt;url href="http://www.example.com/stats?q=name" /&gt; 
&lt;url 
href="http://www.example.com/stats?q=age" 
lastmod="2004-11-14T01:00:00-07:00" 
changefreq="yearly" 
priority="0.3"
/&gt;</pre>  <font size="-1">  <p>Tässä osassa annetaan kaksi esimerkkiä: ensimmäinen sisältää vain pakollisen attribuutin ja toinen sisältää pakollisen attribuutin sekä valinnaiset attribuutit.</p>  <p>Käytä tätä muotoa kaikissa URL-osoitteissa, jotka haluat sisällyttää. <strong>changefreq</strong>-attribuutti tarjoaa Googlelle idean siitä, miten usein URL-osoite päivitetään.  Tiedon avulla Googlen on helpompi arvioida, miten usein sivun uusi sisältö kannattaa tarkistaa. <strong>priority</strong>-attribuutti tarjoaa Googlelle tietoa sivun suhteellisesta merkityksestä verrattuna sivustosi muihin sivuihin. Tämä attribuutti ei vaikuta siihen, miten Google vertaa sivuasi muiden sivustojen sivuihin, se vain auttaa Googlea arvioimaan, mitkä sivustosi sivut ovat mielestäsi tärkeimpiä.</p>  </font>  <p><font size="-1"><strong> URL-osoiteluettelo <a name="urllist"></a> </strong></font></p>  <font size="-1"><p>Etsi seuraava kohta:</p>   </font>  <pre>&lt;!-- ** MODIFY or DELETE **
"urllist" nodes name text files with lists of URLs. 
An example file "example_urllist.txt" is provided. 

Required attributes: 
path - path to the file 

Optional attributes: 
encoding - encoding of the file if not US-ASCII 
--&gt; 
&lt;urllist path="example_urllist.txt" encoding="UTF-8" /&gt;</pre>   <p><font size="-1"> Anna URL-osoiteluettelosi sisältämän tekstitiedoston polku ja nimi tätä muotoa käyttäen. Voit käyttää oheista <strong>example_urllist.txt </strong>-tiedostoa kyseisen tekstitiedoston mallina. Määritä Web-palvelimen polku käyttäen joko suhteellista tai absoluuttista merkintätapaa. Jos esimerkiksi sivustokartan luontitoiminto ja <strong>urlist.txt </strong>-tiedosto ovat samassa hakemistossa, riittää, kun määrität <strong> .txt</strong>-tiedoston tiedostonimen. Jos luot tekstitiedoston, joka on muuta kuin UTF-8-muotoa, voit ilmoittaa käytetyn merkistön <strong>encoding</strong>-attribuutin avulla. Jos .txt-tiedostoja on useita, voit käyttää yleismerkkejä. Esimerkki:</font></p>  <pre>&lt;urllist path=&quot;example_urllist*.txt&quot; encoding=&quot;UTF-8&quot; /&gt;</pre>  <p><font size="-1">Voit kunkin tekstitiedostoon sisällyttämäsi URL-osoitteen osalta määrittää viimeisen muutospäivämäärän, muuttaa muutostiheyttä ja painoarvoa. Saat täydelliset tiedot tämän tiedoston rakenteesta <a href="#urllist_reference">URL-osoiteluettelon tekstitiedoston viitekohdasta</a>.</font></p>  <p><font size="-1"><strong> Hakemistopolut<a name="directory"></a> </strong></font></p>  <p><font size="-1"> Etsi seuraava kohta: </font></p>   <pre>&lt;!-- ** MODIFY or DELETE ** 
"directory" nodes tell the script to walk the file system and 
include all files and directories in the Sitemap.

Required attributes:
path - path to begin walking from 
url - URL equivalent of that path 

Optional attributes:
default_file - name of the index or default file for directory URLs

--&gt; 
 &lt;directory  path=&quot;/var/www/icons&quot;    url=&quot;http://www.example.com/images/&quot; /&gt;<br>&lt;directory<br>path=&quot;/var/www/docroot&quot;<br>url=&quot;http://www.example.com/&quot;<br>default_file=&quot;index.html&quot;<br>/&gt;</pre>   <p><font size="-1">Tässä osassa annetaan kaksi esimerkkiä. Jos kaikki sivusi kuuluvat yhden polun alihakemistoihin, sinun tarvitsee sisällyttää vain yksi merkintä. Jos sivustosi sivuihin on kuitenkin useita polkuja, sisällytä kuhunkin merkintä. </font></p>   <p><font size="-1">Muista, että kunkin URL-osoitteen alussa on oltava perus-URL-osoite, jonka määrität vaiheessa 3. Esimerkiksi <strong>example_config.xml</strong> -tiedoston kummassakin esimerkissä on URL-osoitteet, joiden alussa on <strong>http://www.example.com/</strong>. Tämän vuoksi molemmat URL-osoitteet ovat kelvollisia. </font></p>   <p><font size="-1">Korvaa esimerkkimerkinnät sivustoasi koskevilla merkinnöillä. Monissa sivustoissa on vain yksi perus-URL-osoitteeseen viittaava merkintä. Varmista, että <strong>path</strong>-arvo on Web-palvelimesi hakemiston täydellinen polku. Varmista, että <strong>url</strong>-arvo on täydellinen URL-osoite, joka sisältää protokollan (kuten http) ja tarvittaessa päättävän kauttaviivan.</font></p>  <p><font size="-1">Voit käyttää <strong>default_file</strong>-parametriä määrittäessäsi tiedostonimen, jota palvelimesi käyttää hakemiston oletussivuna. Edellä olevassa esimerkissä <strong>/var/www/docroot</strong> vastaa osoitetta <strong>http://www.example.com/index.html</strong>. Sinun ei ole pakko määrittää tätä. Jos kuitenkin määrität sen, sivustokartan luontitoiminto sisällyttää oletussivun vain kerran (hakemisto-URL:n ja ja tiedostonimi-URL:n näyttämisen sijaan), ja poimii sivun viimeistä muutospäivää koskevan attribuutin tiedoston viimeisen muutospäivämäärän (ei hakemiston) avulla. </font></p>  <p><font size="-1"><strong> Käyttölokit <a name="logs"></a></strong></font></p>  <p><font size="-1"> Etsi seuraava kohta: </font></p>  <pre>&lt;!-- ** MODIFY or DELETE **
&quot;accesslog&quot; nodes tell the script to scan webserver log files to
extract URLs on your site.  Both Common Logfile Format (Apache's default 
logfile) and Extended Logfile Format (IIS's default logfile) can be read.
				
Required attributes:
 path - path to the file
Optional attributes:
 encoding - encoding of the file if not US-ASCII
  --&gt;
&lt;accesslog path=&quot;/etc/httpd/logs/access.log&quot; encoding=&quot;UTF-8&quot; /&gt;
&lt;accesslog path=&quot;/etc/httpd/logs/access.log.0&quot; encoding=&quot;UTF-8&quot; /&gt;
&lt;accesslog path=&quot;/etc/httpd/logs/access.log.1.gz&quot; encoding=&quot;UTF-8&quot; /&gt;</pre>   <p><font size="-1">Tässä osassa annetaan kolme esimerkkiä. Korvaa nämä kohdat jokaisen lokitiedoston tiedoilla. Varmista, että path-arvo Web-palvelimella on kokonainen polku ja tiedostonimi. Jos lokitiedostot eivät ole US-ASCII- tai UTF-8-muodossa, <a href="#encoding">määritä</a> käytetty merkistö käyttämällä valinnaista <strong>encoding</strong>-attribuuttia. Jokaisen lokitiedoston luetteloinnin sijaan voidaan käyttää yleismerkkejä. Esim. yllä olevan esimerkin kaikki kolme lokitiedostoa saadaan mukaan seuraavasti:</font></p> <pre>&lt;accesslog path=&quot;/etc/httpd/logs/access.log*&quot; encoding=&quot;UTF-8&quot; /&gt;</pre>  <p><font size="-1">Sivustokartan luontitoiminto määrittää lokeista löytämiensä URL-osoitteiden painoarvon sen perusteella, miten usein kutakin URL-osoitetta käytetään. URL-osoite, jota on käytetty 100 kertaa, saa esimerkiksi suuremman painoarvon kuin URL-osoite, jota on käytetty kahdesti. Todellisen painoarvon määrittäminen on suhteellista ja riippuu siitä, miten kutakin URL-osoitetta verrataan muihin sivuston URL-osoitteisiin.</font></p> <p><font size="-1"><strong> sitemap <a name="sitemap"></a></strong></font></p> <p><font size="-1"> Etsi seuraava kohta: </font></p>  <pre>&lt;!-- ** MODIFY or DELETE **<br>&quot;sitemap&quot;-solmut pyytävät komentotiedostoa lukemaan muut sivustokartan tiedostot.
Tämä voi olla käyttökelpoinen tapa koota useiden tämän komentotiedoston ajojen tulokset yhdeksi sivustokartaksi.
				 
Required attributes:
  path - path to the file
  --&gt;
&lt;sitemap path=&quot;/var/www/docroot/subpath/sitemap.xml&quot; /&gt;</pre>   <p><font size="-1">Tässä osassa annetaan esimerkki. Korvaa tämä kohta jokaisen mukaan haluttavan sivustokartan tiedoilla. Varmista, että polun arvo Web-palvelimella on kokonainen polku ja tiedostonimi. Myös gzipped-sivustokarttoja voidaan käyttää, mikäli niillä on .gz-tarkenne. Jokaisen sivustokartan määrittelyn sijaan voidaan käyttää yleismerkkejä. Esimerkiksi seuraava määritys ottaa mukaan kaikki sivustokartat, jotka alkavat sanalla &quot;sitemap&quot; ja joilla on .xml-tarkenne:</font></p> <pre>&lt;sivustokartan polku=&quot;/var/www/docroot/subpath/sivustokartta*.xml&quot; /&gt;</pre>  <p><font size="-1">Sivustokartan luontitoiminto selvittää kaikki URL-osoitteet ja kunkin tarjotun sivustokartan URL-osoitteen valinnaiset tiedot luoden näiden tietojen pohjalta yhden sivustokartan. Tässä vaiheessa emme takaa, että tämä tapa toimii muiden kuin sivustokartan luontitoiminnon avulla tehtyjen sivustokarttojen yhteydessä.</font></p>     <font size="-1"><li>Etsi suodinmääritysosa:</li></font>   <pre>&lt;!-- ********************************************************         
FILTERS
				
Filters specify wild-card patterns that the script compares
against all URLs it finds. Filters can be used to exclude
certain URLs from your Sitemap, for instance if you have
hidden content that you hope the search engines don't find.

Filters can be either type=&quot;wildcard&quot;, which means standard
path wildcards (* and ?) are used to compare against URLs,
 or type=&quot;regexp&quot;, which means regular expressions are used
to compare.

Filters are applied in the order specified in this file.
An action=&quot;drop&quot; filter causes exclusion of matching URLs.
An action=&quot;pass&quot; filter causes inclusion of matching URLs,
shortcutting any other later filters that might also match.
If no filter at all matches a URL, the URL will be included.
Together you can build up fairly complex rules.

The default action is &quot;drop&quot;.
The default type is &quot;wildcard&quot;.

You can MODIFY or DELETE these entries as appropriate for
your site. However, unlike above, the example entries in
this section are not contrived and may be useful to you as
they are.
********************************************************* --&gt;

&lt;!-- Exclude URLs that end with a '~' (IE: emacs backup files) --&gt;
&lt;filter action=&quot;drop&quot; type=&quot;wildcard&quot; pattern=&quot;*~&quot; /&gt;

&lt;!-- Exclude URLs within UNIX-style hidden files or directories --&gt;
&lt;filter action=&quot;drop&quot; type=&quot;regexp&quot; pattern=&quot;/\.[^/]*&quot; /&gt;</pre>  <p><font size="-1">Voit sulkea pois tiettyjä URL-osoitteita luodusta sivustokartasta suotimien avulla. Voit toimia näin luodaksesi puhtaamman luettelon, vähentääksesi turhaa luettelointia tai jättääksesi tietyt URL-osoitteet indeksoimatta. Muista, että jos käytät <a href="http://www.robotstxt.org/wc/robots.html">robots.txt</a>-tiedostoa estääksesi URL-osoitteiden indeksoinnin, Google ei hae tai indeksoi URL-osoitteita, vaikka ne kuuluisivatkin sivustokarttaasi. </font></p>   <p><font size="-1"> Voit käyttää mitä tahansa suodatustapoja tai kaikkia suodatustapoja. Voit poistaa tarpeettomat merkinnät ja luoda tarvittaessa lisämerkintöjä. Alla on esimerkkejä. </font></p>  <pre>&lt;filter action=&quot;drop&quot; type=&quot;wildcard&quot; pattern=&quot;*.jpg&quot; /&gt;</pre>  <p><font size="-1">Tämä suodin ohittaa .jpg-päätteiset URL:t. Voit tehdä tällaisen suotimen, jos kaikki sivuston kuvat sisältyvät HTML-sivuihin, eikä kuviin haluta voitavan viitata itsenäisesti. </font></p>  <pre>&lt;filter action=&quot;pass&quot; type=&quot;wildcard&quot; pattern=&quot;*.htm*&quot; /&gt;
&lt;filter action=&quot;drop&quot; type=&quot;wildcard&quot; pattern=&quot;*&quot; /&gt;</pre><font size="-1"> Tämä suodin hyväksyy kaikki .htm*-tiedostot, mutta sulkee pois kaiken muun.</font><br>  <br>    <font size="-1"></font><font size="-1"><li>Kun olet tehnyt kaikki sivustosi muutokset, tallenna tiedosto.</li></font>  </ol>    <font size="-1"><a name="config_reference"></a><p><b>Määritystiedoston syntaksiviite</b></p>  </font><font size="-1">  </font>  <p><font size="-1">Alla on täydellinen selvitys määritystiedoston syntaksista. Kukin merkintä alkaa koodiesimerkillä, jota seuraavat attribuuttien kuvaukset. </font></p>   <p><font size="-1"><strong><a name="sitetag"></a>site<br></strong></font><font size="-1">Kunkin määritystiedoston alussa vaadittava koodi. </font></p>  <pre>&lt;site
base_url="http://www.example.com/"
store_into="/var/www/html/sitemap.xml.gz"
verbose="1"
supress_search_engine_notify="1"
default_encoding="UTF-8"&gt;</pre>  <br>  <font size="-1">  <table border="1" cellpadding="2" cellspacing="0" width="100%">   <tbody><tr>  <td valign="top" width="19%"><pre>base_url</pre></td>  <td valign="top" width="6%"><font size="-1">pakollinen</font></td>  <td valign="top" width="75%"><font size="-1">Web-sivustosi perustan HTTP-polku. Ainoastaan tällä perus-URL-osoitteella alkavat URL-osoitteet voidaan sisällyttää sivustokarttaan</font></td>  </tr>   <tr>  <td valign="top"><pre>store_into</pre></td>  <td valign="top"><font size="-1">pakollinen</font></td>  <td valign="top"><font size="-1">Web-palvelimen polku haluttuun tulostiedostoon. Sivukarttageneraattori luo tämän tiedoston - tiedostoa ei tarvitse luoda ennen sivukarttageneraattori suorittamista.</font></td>  </tr>   <tr>  <td valign="top"><pre>verbose</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Syötä numero 0-3. Suuremmat numerot merkitsevät parempia virheenkorjaustietoja</font></td>  </tr>   <tr>  <td valign="top"><pre>suppress_search_engine_notify</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Poista</font><font size="-1"> käytöstä hakukoneen ilmoitus syöttämällä testaustarkoituksessa käytettävä "1"</font></td>  </tr>   <tr>  <td valign="top"><pre>default_encoding</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Määritä tiedostojärjestelmän poluissa ja URL-osoitteissa käytettävä merkistö</font></td>  </tr>   </tbody></table>  </font>  <font size="-1">   <p></p>  </font>  <p><font size="-1"><strong>url<br></strong></font><font size="-1">Valinnainen koodi, jonka avulla voit merkitä sivustosi kunkin URL-osoitteen. </font></p>  <p><pre>&lt;url
href="http://www.example.com/stats?q=age" 
lastmod="2004-11-14T01:00:00-07:00" 
changefreq="yearly" 
priority="0.3"
/&gt;</pre></p><table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td height="20" valign="top" width="19%"><pre>href</pre></td>  <td width="6%" valign="top"><font size="-1">pakollinen</font></td>  <td valign="top" width="75%"><font size="-1">Web-sivustosi perustan HTTP-polku. Ainoastaan tällä perus-URL-osoitteella alkavat URL-osoitteet voidaan sisällyttää sivustokarttaan</font></td>  </tr><tr>  <td valign="top"><pre>lastmod</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Ajankohta, jolloin URL-osoite viimeksi muutettiin ISO <a href="http://www.w3.org/TR/NOTE-datetime">W3C Datetime</a> -muodossa (VVVV-KK-PPThh:mm:ss+00:00).  Voit ohittaa kellonajan. Esimerkkejä:<br>&nbsp;&nbsp;"2005-02-21T18:00:15+00:00"<br>&nbsp;&nbsp;"2005-02-21"</font></td>  </tr><tr>  <td valign="top"><pre>changefreq</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">URL-osoitteen todennäköinen muutostiheys. Tämän katsotaan olevan vihje, ei komento.  Arvon on oltava jokin seuraavista: "always", "hourly", "daily", "weekly", "monthly", "yearly", tai "never".</font></td>  </tr><tr>  <td valign="top"><pre>priority</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Tämän sivun painoarvo suhteessa muihin saman sivuston sivuihin. Arvo on luku väliltä 0.0-1.0, jolloin 0.0 merkitsee matalinta painoarvoa ja 1.0 korkeinta painoarvoa. Painoarvo voi vaikuttaa järjestykseen, jonka perusteella hakukoneet valitsevat tutkittavia URL-osoitteita sivustostasi. Koska painoarvo on suhteellinen, sitä käytetään vain tehtäessä valintaa oman sivustosi URL-osoitteiden välillä. Sivujesi painoarvoa ei verrata muiden sivustojen sivujen painoarvoon.</font></td>  </tr>  </tbody></table>  <p><font size="-1"><b>urllist<br></b></font><font size="-1">Valinnainen koodi, jonka avulla voit viitata sivustosi URL-osoiteluettelon sisältävään tekstitiedostoon. </font></p>  <pre>&lt;urllist path="/var/www/html/urllist.txt" encoding="UTF-8" /&gt;</pre>  <br>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td height="20" valign="top" width="19%"><pre>path</pre></td>  <td width="6%" valign="top"><font size="-1">pakollinen</font></td>  <td valign="top" width="75%"><font size="-1">Tekstitiedoston (.txt) polku ja tiedostonimi. Määritä joko suhteellinen tai absoluuttinen polku. </font></td>  </tr><tr>  <td valign="top"><pre>encoding</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Tiedostossa käytetty merkistö, jos muu kuin UTF-8.</font></td>  </tr>  </tbody></table> <p><font size="-1"><a name="urllist_reference"></a> <b>urllist.txt</b>-tiedosto on  yksinkertainen tekstitiedosto, joka sisältää määritettävien URL-osoitteiden luettelon. Voit sisällyttää kuhunkin URL-osoitteeseen myös valinnaisia attribuutteja. Attribuutit kirjoitetaan samalle riville kuin URL-osoite ja erotetaan siitä pelkällä välilyönnillä.  Esimerkki:</font></p>  <pre>http://www.example.com/abc/something
http://www.example.com/abc/xyy.pdf lastmod=2001-12-31T14:05:06+00:00
http://www.example.com/abc/def?x=12&amp;y=23 changefreq=weekly priority=0.3</pre>  <p>  <font size="-1">   </font><table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>lastmod</pre></td>  <td valign="top" width="6%"><font size="-1">valinnainen</font></td>  <td width="75%" valign="top"><p><font size="-1">Ajankohta, jolloin URL-osoite viimeksi muutettiin ISO <a href="http://www.w3.org/TR/NOTE-datetime">W3C Datetime</a> -muodossa (VVV-KK-PPThh:mm:ss+00:00).  Voit ohittaa kellonajan. Esimerkkejä:</font><font size="-1"><br>  <br>&nbsp;&nbsp;"2005-02-21T18:00:15+00:00"<br>&nbsp;&nbsp;"2005-02-21"</font></p>  </td>  </tr><tr>  <td valign="top"><pre>changefreq</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1"><font size="-1">URL-osoitteen todennäköinen muutostiheys. Tämän katsotaan olevan vihje, ei komento.  Arvon on oltava jokin seuraavista: "always", "hourly", "daily", "weekly", "monthly", "yearly", tai "never".</font></font></td>  </tr><tr>  <td valign="top"><pre>priority</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Tämän sivun painoarvo suhteessa muihin saman sivuston sivuihin. Arvo on luku väliltä 0.0-1.0, jolloin 0.0 merkitsee matalinta painoarvoa ja 1.0 korkeinta painoarvoa. Painoarvo voi vaikuttaa järjestykseen, jonka perusteella hakukoneet valitsevat tutkittavia URL-osoitteita sivustostasi. Koska painoarvo on suhteellinen, sitä käytetään vain tehtäessä valintaa oman sivustosi URL-osoitteiden välillä. Sivujesi painoarvoa ei verrata muiden sivustojen sivujen painoarvoon.</font></td>  </tr>  </tbody></table>  </p>  <font size="-1">  </font>  <p><font size="-1"><strong>directory<br></strong></font><font size="-1">Valinnainen koodi, jonka avulla voit määrittää sivustosi hakemistoja, jolloin sivustokartan luontitoiminto voi luoda näistä hakemistoista löytyneistä tiedostoista URL-osoiteluettelon. </font></p>  <pre>--&gt; 
 &lt;directory  path=&quot;/var/www/icons&quot;    url=&quot;http://www.example.com/images/&quot; /&gt;<br>&lt;directory<br>path=&quot;/var/www/docroot&quot;<br>url=&quot;http://www.example.com/&quot;<br>default_file=&quot;index.html&quot;<br>/&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>path</pre></td>  <td valign="top" width="6%"><font size="-1">pakollinen</font></td>  <td width="75%" valign="top"><font size="-1">Ilmoittaa alkuperäisen polun. Sivustokartan luontitoiminto käy läpi tämän hakemiston ja sen alihakemistot</font>.</td>  </tr>   <tr>  <td valign="top"><pre>url</pre></td>  <td valign="top"><font size="-1">pakollinen</font></td>  <td valign="top"><font size="-1">Määrittää polun arvoa vastaavan URL-osoitteen.</font></td>  </tr>  <tr>  <td valign="top"><pre>default_file</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Määrittää palvelimen hakemiston oletussivun.</font></td>  </tr>  </tbody></table>  </font>  <p><font size="-1"><b> accesslog<br></b>Valinnainen koodi, jonka avulla voit määrittää IIS- ja Apache-tyylin käyttölokien polun ja tiedostonimen, jolloin sivustokartan luontitoiminto voi automaattisesti poimia niistä URL-osoitteet.  </font></p>   <pre>&lt;accesslog path="/etc/httpd/logs/access-0.log" encoding="UTF-8"/&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>path</pre></td>  <td valign="top" width="6%"><font size="-1">pakollinen</font></td>  <td width="75%" valign="top"><font size="-1">Ilmoittaa tiedoston polun.</font></td>  </tr>   <tr>  <td valign="top"><pre>encoding</pre></td>  <td valign="top"><font size="-1">valinnainen</font></td>  <td valign="top"><font size="-1">Määrittää tiedoston käyttämän merkistön, jos se ei ole UTF-8.</font></td>  </tr>  </tbody></table>    <p><font size="-1"><b> sitemap<br></b>Valinnainen koodi, jonka avulla voidaan määrittää sivustokartan luontitoiminnon avulla luotujen valmiiden sivustokarttojen polku ja tiedostonimi. Sivustokartan luontitoiminto luo yhden sivustokartan, joka sisältää kunkin sivustokartan sisältämät URL-osoitteet. </font></p>   <pre>&lt;sivustokartan polku=&quot;/var/www/docroot/subpath/sitemap.xml&quot; /&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>path</pre></td>  <td valign="top" width="6%"><font size="-1">pakollinen</font></td>  <td width="75%" valign="top"><font size="-1">Ilmoittaa sivustokarttatiedoston polun.</font></td>  </tr>  </tbody></table>    <p><font size="-1"><strong><a name="filter_examples"></a>filter<br></strong></font><font size="-1">Valinnainen koodi, jonka avulla voit luoda tiettyjen tiedostojen sisällyttämistä tai poisjättämistä koskevia sääntöjä. Suotimia noudatetaan siinä järjestyksessä, jossa ne näkyvät config.xml-tiedostossa. Suodin- ja syötemerkintöjen (url-osoite, url-osoiteluettelo, hakemisto tai käyttöloki) keskinäisellä sekoittamisella ei ole lisävaikutusta - kutakin sivustokartan luontitoiminnon sivustokarttaan lisäämää URL-osoitetta verrataan ensin jokaiseen suotimeen. </font><font size="-1">Jos yksikään suodin ei vastaa URL-osoitetta, URL-osoite sisällytetään sivustokarttaan oletusarvoisesti.</font></p>   <pre>&lt;filter action="drop" type="wildcard" pattern="*/internal/*" /&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>action</pre></td>  <td valign="top" width="6%"><font size="-1">valinnainen</font></td>  <td width="75%" valign="top">  <font size="-1"><p>Suotimeen liittyvä toiminto. Mahodlliset arvot ovat:</p>  </font> <ul>  <li><font size="-1">drop - jättää pois vastaavat URL-osoitteet. Tämä on oletustoiminto, joten jos mitään toimintoa ei ole määritetty, luontitoiminto käyttää arvoa &quot;drop&quot;.</font></li>  <li><font size="-1">pass - sisällyttää vastaavat URL-osoitteet.</font></li>  </ul>  </p></td>  </tr>   <tr>  <td width="19%" valign="top"><pre>type</pre></td>  <td valign="top" width="6%"><font size="-1">valinnainen</font></td>  <td width="75%" valign="top"><font size="-1"><p>Suodintyyppi. Mahdolliset arvot ovat:</p>  </font> <ul>  <li><font size="-1">wildcard - standardia polkua, jossa on korvausmerkkejä (? ja *), verrataan URL-osoitteisiin. Tämä on oletustyyppi, joten jos mitään tyyppiä ei ole määritetty, luontitoiminto käyttää arvoa &quot;wildcard&quot;.</font></li>  <li><font size="-1"> regexp - käytetään säännöllisiä lausekkeita.</font></li>  </ul></td>  </tr>  <tr>  <td valign="top"><pre>pattern</pre></td>  <td valign="top"><font size="-1">pakollinen</font></td>  <td valign="top"><font size="-1">Määrittää kaavan, jonka mukaan haku tehdään.</font></td>  </tr>  </tbody></table>  <font size="-1"> <p><b><a name="encoding"></a>Merkistöt</b></p>   <p>Määritystiedostosi viittaamat tiedostot, joko URL-luettelot tai Web-palvelinlokit, voivat käyttää muita koodauksia kuin oletuksena olevaa UTF-8-merkistöä. Voit määrittää vaihtoehtoiset merkistöt config.xml -tiedostossa vaikuttaaksesi siihen, miten sivustokartan luontitoiminto lukee tiedostosi. Yleisimpiä merkistöjä ovat seuraavat:</p>  <ul>  <li><strong>encoding="utf-8"</strong> on oletus</li><li>Ascii-merkkijärjestelmä, määrityksenä <strong>encoding="ascii"</strong>, sisältyy UTF-8-merkistöön, joten sitä ei tarvitse merkitä</li><li><strong>encoding="iso-8859-1"</strong> on yleinen monissa Länsi-Euroopan kielissä</li></ul>  </font>   <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="creating_mobile" id="creating_mobile"></a><b>2b. Lisätietoja mobiilin määritystiedoston luomisesta</b></td>  </tr>  </tbody></table>  <p><font size="-1">Mobile Sitemap -sivustokartan määritystiedosto tehdään, kuten ei-mobiilisivustokartan vastaava tiedosto. Kullekin sivunkuvauskielelle on kuitenkin luotava erillinen määritystiedosto ja ajettava sivustokartan luomistoiminto kunkin määritystiedoston suhteen erikseen siten, että jokaiselle luodaan erillinen sivustokartta.</font></p>  <p><font size="-1">Kukin määritystiedosto edellyttää seuraavaa:</font></p>  <ul>  <li><font size="-1">Määritä eri tiedostonimi ns. <a href="#create_config"><strong>store_into</strong>-arvolle</a>.</font></li>  <li><font size="-1">Määritä sivunkuvauskielen osalta poissuljettavat ja sisällytettävät URL-osoitteet <a href="#filter_examples">suodinten</a> avulla. Muista, että kunkin sivustokartan olisi sisällettävä vain yhtä sivunkuvauskieltä käyttäviä URL-osoitteita. Tämä tarkoittaa, että sama URL-osoite voi sisältyä useisiin sivustokarttoihin, jos kyseiset URL-osoitteet käyttävät useita sivunkuvauskieliä.</font></li>  </ul>  <p><strong><font size="-1">Esimerkkejä suotimista</font></strong></p>  <p><font size="-1">Ohessa on esimerkkejä siitä, miten tarkennesuotimia voidaan käyttää Mobile Sitemaps -sivustokarttojen luomiseen eri sivunkuvauskielille. Valikoinnin tulee perustua sivustossa käytettäviin sivunkuvauskieliin ja siihen, miten kukin tyyppi on määritetty. Jos olet toteuttanut sivuston ratkaisut eri tavalla (URL-osoitteet voivat olla esim. eri sivunkuvauskielellä erillisissä kansioissa), valikointi on suoritettava sivuston toteuttamistapaa vastaavalla tavalla. Muista, että suotimia käytetään siinä järjestyksessä kuin ne on määritystiedostossa annettu. Sijoita ensimmäiseksi &quot;pass&quot;-toimenpide, joka määrittää sivustokarttaan mukaan otettavat URL-osoitteet. </font></p>  <p><font size="-1">Sivustokartan luominen WML (WAP 1.2) -sisältöä varten:</font></p>   <pre>&lt;filter action="pass" type="wildcard" pattern="*.wml" /&gt;
&lt;filter action="drop" type="wildcard" pattern="*.*" /&gt;<br>
</pre>   <p><font size="-1">Sivustokartan luominen XHTML-mobiiliprofiilin (WAP 2.0) sisältöä varten:</font></p>   <pre>&lt;filter action="pass" type="wildcard" pattern="*.xhtml" /&gt;
&lt;filter action="drop" type="wildcard" pattern="*.*" /&gt;<br>
			</pre>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="copy"></a><b>3. Tiedostojen lataaminen Web-palvelimeen</b></td>  </tr>  </tbody></table>  <p><font size="-1"> Lataa seuraavat tiedostot sellaiseen Web-palvelimesi kohtaan, johon pääset komentoriviltä: </font></p>   <font size="-1"><ul>  <li><strong> config.xml</strong> &#8212;-tiedosto on määritystiedosto, jonka juuri loit <strong>example_config.xml</strong>-tiedoston avulla.</li>  <li><strong> sitemap_gen.py</strong> &#8212;tämä on sivustokarttasi luova Python-komentosarja.</li>  <li><strong> urllist.txt</strong> &#8212;tämä tiedosto on valinnainen; sinun tarvitsee sisällyttää se vain, jos käytit sivustokartan luonnissa tekstitiedostomenetelmää.</li>  </ul>   </font>  <p><font size="-1">Näiden tiedostojen latausmenetelmä määräytyy ympäristön mukaan. Yleisiä menetelmiä ovat mm. <a href="http://www.google.com/search?q=ftp">FTP</a> ja SCP. Saat lisätietoja ottamalla yhteyttä Web-palveluntarjoajaasi. </font></p>   <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="execute"></a><strong>4. Sivustokartan luontitoiminnon komentorivin (sitemap_gen.py) suorittaminen </strong></td>  </tr>  </tbody></table>   <p><font size="-1"> Suorita sivustokartan luomistoiminto muodostamalla yhteys omaan Web-palvelimeesi. Yhteyden muodostamistapa määräytyy ympäristön mukaan. Esimerkiksi UNIX-pohjaiseen palvelimeen yhteys voidaan tavallisesti muodostaa <a href="http://www.google.com/search?q=ssh">SSH</a>:n avulla. Selvitä Web-palvelimen yhteyksien ja komentotiedostojen suorittamisen lisätiedot Web-palveluntarjoajaltasi. </font></p>   <p><font size="-1"> Kun olet kopioinut tiedostot Web-palvelimeesi, sinun on suoritettava sivustokartan luontitoiminnon komentorivi.  Luo yhteys Web-palvelimeesi ja suorita seuraava komento (korvaa <strong>&lt;path/config.xml&gt;</strong> määritystiedostosi polulla ja tiedostonimellä. Jos olet ladannut tämän tiedoston samaan kohtaan kuin Python-komentosarja, voit ohittaa polun):</font></p>   <pre>python sitemap_gen.py --config=&lt;path/config.xml&gt;</pre> <p><font size="-1">Esimerkiksi UNIX-pohjainen komentorivi voisi näyttää seuraavalta:</font></p> <p><img src="images/python_command.gif" alt="Python-komento"></p> <p><font size="-1">Esimerkiksi MS-DOS-pohjainen komentotulkki voisi näyttää seuraavalta:</font></p> <p><img src="images/python_dos.gif" alt="Python-komento"></p> <p><font size="-1"><b>Vihje:</b> Jos testaat määrityksiäsi etkä ole valmis lähettämään sivustokarttaasi, seuraava syntaksi estää sivustokartan luontitoimintoa ottamasta yhteyttä Googleen:</font></p>  <pre><br>$ python sitemap_gen.py --config=config.xml --testataan</pre>  <font size="-1"><p>Näet pyyntösi tilan komentokehotteessa:</p></font> <pre>Reading configuration file: /path/config.xml
	Opened URLLIST "/path/urllist.txt"
	Walking DIRECTORY "/var/www/html/dir"
	Walking DIRECTORY "/var/www/html/dir2"
	Opened ACCESSLOG "/etc/httpd/logs/access-0.log"
	Sorting and normalizing collected URLs.
	Writing Sitemap file "/path/sitemap.xml.gz" with 1092 URLs
	Notifying search engines.
	Notifying www.google.com
	Count of file extensions on URLs:
		208  .html
		574  .jpg
		...
		Number of errors: 0
		Number of warnings: 0</pre>  <font size="-1">  <p>Jos et näe kovin paljon tämän kaltaista tulostusta, muista, että määritystiedostosi ns verbose-asetus vaikuttaa siihen, miten paljon tietoa näytöllä näkyy. Tässä esimerkissä verbose-asetus on "1".</p>  <p>Myös kaikki tiedostovirheet näkyvät. Jos esimerkiksi jätät hakemistomerkinnästä pois url=-attribuutin, sivustokarttageneraattori tulostaa seuraavaa:</p></font> <pre>[ERROR] Directory entries must have both "path" and "url" attributes
	Number of errors: 1</pre>  <font size="-1">  </font>  <p><font size="-1">Korjaa kaikki virheet <b>config.xml</b>-tiedostossasi ja suorita sivustokartan luontitoiminto uudelleen. Jos virheitä ei ole, sivustokartan luontitoiminto luo uuden <b>sitemap.xml.gz</b>-tiedoston määritystiedostossa määrittämääsi paikkaan. </font></p>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="submitting" id="submitting"></a><strong>5. Sivustokartan lähettäminen Googlelle </strong></td>  </tr>  </tbody></table>  <p><font size="-1">Sivustokartan luontitoiminto luo <strong>sitemap.xml.gz</strong>-tiedoston määritystiedostossa annettavaan paikkaan. Tiedoston onnistuneen luomisen jälkeen varmista, että se on käytettävissä verkkopalvelimen kautta. <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34575&topic=8496">Lisää</a> se tämän jälkeen omaan <a href="https://www.google.com/webmasters/sitemaps/siteoverview">Google Sitemaps</a> -tiliisi. Näin toimien Google pystyy tarjoamaan sivustojen omistajille käyttökelpoisia tila- ja tilastotietoja. Mikäli Google havaitsee sivustokarttaan liittyviä ongelmia, voit korjata ne ja lähettää tiedot uudelleen. Sivustokartta tarvitsee lisätä manuaalisesti vain kerran. Tämän jälkeen voidaan käyttää <a href="submit.html#ping">HTTP-pyyntöä</a>, joka ilmoittaa Googlelle sivustokarttaan tehdyistä muutoksista (voit tosin lähettää sen uudelleen Googlen Web-ylläpidon työkalut -tilisi kautta). </font></p>   <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="recur"></a><b>6. Toistuvan komentorivin määrittäminen</b></td>  </tr>  </tbody></table>  <font size="-1">  <p>Sinun kannattaa asettaa sivustokartan luontitoiminto käynnistymään aina kun sisältösi muuttuu, mutta korkeintaan kerran tunnissa.</p>  </font>  <p><font size="-1">UNIX-Web-palvelimia käyttävät sivustovastaavat voivat määrittää tämän <a href="http://www.google.com/search?q=cron">cron-työksi</a>. </font></p>  <font size="-1"><p>Muita ympäristöjä käyttävien Web-vastaavien tulisi pyytää järjestelmänvalvojaltaan apua toistuvien komentotiedostojen määrityksessä.  Voit käyttää hyödyksesi myös Google Sitemaps -ryhmän vertaisneuvoja kohdassa  <a href="http://www.google.com/webmasters/sitemaps/googlegroup?hl=fi">Google-ryhmät</a>.</p>   </font>  <p><font size="-1"> Voit ilmoittaa Googlelle sivustokarttaan tehdyistä muutoksista <a href="submit.html#ping">HTTP-pyynnöllä</a>. Varmista kuitenkin, että <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34575&topic=8496">lisäät sivustokartan</a> omaan Google Web ylläpidon työkalut -tiliisi yhden kerran manuaalisesti kirjautumalla Google-tililläsi <a href="https://www.google.com/webmasters/sitemaps/siteoverview">Google Web-ylläpidon työkalut</a> -palveluun.</font></p>  <font size="-1"></font>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="troubleshoot"></a><b>Vianmääritys</b></td>  </tr>  </tbody></table>  <font size="-1">  <p>Tässä osassa käsittelemme joitakin yleisiä kysymyksiä tai ongelmia, joihin ihmiset saattavat törmätä sivustokartan luontitoimintoa käyttäessään - sekä sitä, mitä voit tehdä kohdatessasi jonkin niistä.</p>  <p><b>Webissä oleva</b></p>  <p><b>Ongelma:</b> Sivustokartan luontitoiminto näyttää seuraavan virheilmoituksen ja varoituksen:</p>  </font> <pre>[ERROR] When attempting to access your generated Sitemap at the following URL:
	http://www.example.com/sitemap.xml.gz
	we failed to read it.  Please verify the store_into path you specified in your configuration file is web-accessible.
	Consult the FAQ for more information.
	[WARNING] Proceeding to notify with an unverifiable URL.</pre>  <font size="-1">  <p><b>Mitä nyt tapahtui?</b> Sivustokartan luontitoiminto loi tiedoston määrittämääsi kohtaan, minkä jälkeen se yritti hakea sitä HTTP:n avulla hakukoneen tapaan, mutta epäonnistui tehtävässä. Se jatkoi eteenpäin ja teki hakukoneille kaikesta huolimatta ilmoituksen. Toiminto kuitenkin ilmoittaa sinulle virheilmoituksen ja varoituksen avulla, että hakukoneet eivät välttämättä pysty lukemaan sivustokarttaasi.</p>  <p>Sivustokartan luontitoiminto luo sivustokarttatiedoston <b>config.xml</b>-tiedostosi store_into-attribuutissa määrittämääsi polkuun.  Sen jälkeen sivustokartan luontitoiminto luo kyseiselle tiedostolle URL-osoitteen base_url-attribuutin avulla ja ilmoittaa URL-osoitteen hakukoneille.  Jos esimerkiksi asetat seuraavan määrityksen:</p>  </font> <pre>&lt;site base_url="http://www.example.com/"
	store_into="/var/www/html/sitemap.xml.gz"&gt;</pre>  <font size="-1">  </font><p><font size="-1">Sivustokartan luontitoiminto kehottaa hakukoneita etsimään sivustokarttaasi osoitteesta</font></p>   <pre>http://www.example.com/sitemap.xml.gz</pre>  <font size="-1"><p>Tiedostoa on voitava käyttää tästä URL-osoitteesta. Jos tiedostoa ei voida hakea tämän URL-osoitteen avulla, hakukoneilla ei ole mahdollisuutta löytää sivustokarttaasi.</p>  </font><p><font size="-1"><b>Mitä voit tehdä?</b> Sinun on tarkistettava, että <b>config.xml</b>-tiedostosi määrittää sivustokarttasi ns. base_url- ja store_into-polut oikein. Sinun on myös varmistettava, että Web-selaimet voivat hakea sivustokarttatiedoston base_url-sijainnista. Jos havaitset virheitä polussa tai URL-osoitteessa, sinun on ehkä suoritettava sivustokartan luontitoiminto uudelleen tai siirrettävä sivustokarttatiedosto oikeaan paikkaan ja ilmoitettava  hakukoneille asiasta manuaalisesti niiden Web-sivustojen kautta.  </font></p>  <font size="-1"><p><b>XML-tuki</b></p>  <p><strong>Ongelma:</strong> Sivustokartan luontitoiminto näyttää seuraavan virheilmoituksen:</p>  </font> <pre>Some installs of Python 2.2 do not include complete support for XML. 
	Please try upgrading your version of Python and re-running the script.</pre>  <font size="-1"><p><b>Mitä nyt tapahtui?</b> Kuten viestissä ilmaistaan, joidenkin ympäristöjen Python-versiossa (kieli, jolla sivustokartan luontitoiminnon komentorivi on kirjoitettu) ei ole XML-tiedostojen prosessoinnissa tarvittavia tukikirjastoja.  Komentorivin suorittaminen edellyttää täydellistä XML-tukea.</p>  <p><b>Mitä voit tehdä?</b> Kokeile päivittää asennettu Python-versiosi uudempaan versioon.  Sinun on todennäköisesti otettava yhteyttä järjestelmänvalvojaasi tämän tehdäksesi.</p>  <p>Huomaa, että tämä vaikuttaa ainoastaan sivustokartan luontitoimintoon, ei sivustokarttoihin kokonaisuudessaan. Jos tiedät jonkin toisen menetelmän tai työkalun sivustokarttojen luomiseen, voit käyttää sitä ja antaa sivustokarttasi hakukoneille.</p>  <p><b>Mitä ovat kaikki muut tiedostot .gz- tai .zip-paketeissa?</b></p>  <p>Sitemap_gen.py-paketissa on paljon enemmän tiedostoja, kuin mihin on viitattu edellä.  Täydellinen tiedostoluettelo näyttää tältä:</p>  </font>  <pre>AUTHORS
	ChangeLog
	COPYING
	example_config.xml
	example_urllist.txt
	PKG-INFO
	README
	setup.py
	sitemap_gen.py
	test_sitemap_gen.py</pre>  <font size="-1"><p>Muissa tiedostoissa on tavallisesti tietoja ohjelmapaketista ja käyttöehdoista. Sinun kannattaa tutustua niihin.</p>  <p>Ainoa poikkeus on sivukarttageneraattorin kehittäjäversio test_sitemap_gen.py, joka voi olla hyödyllinen niille, jotka haluavat osallistua tähän avoimen lähdekoodin projektiin. Jos aiot käyttää sivukarttageneraattoria muuttamatta lähdekoodia, et todennäköisesti tarvitse kyseistä testikomentotiedostoa. Tämä pätee useimpiin kayttäjiin.</p>Jos olet kiinnostunut tukemaan tätä hanketta, käy osoitteessa <a href="http://sourceforge.net/projects/goog-sitemapgen">http://sourceforge.net/projects/goog-sitemapgen</a>. Katso linkit ulkopuolisten tarjoamiin, Google Sitemapsia tukeviin ohjelmiin napsauttamalla <a href="http://code.google.com/sm_thirdparty.html">tätä</a>.</p>   <font size="-1"></font></font>  <p><font size="-1"><b><a name="nonascii"></a>Ei-ASCII-merkit </b></font></p>  <font size="-1"><font size="-1">  </font></font>  <p><font size="-1"><strong>Ongelma:</strong> Verkkotunnuksen nimessä tai sen sisältämissä URL-osoitteissa on muita kuin ASCII-merkkejä.</font></p>  <p><font size="-1">Yleinen sääntö on, että muut kuin US ASCII -muotoiset URL-osoitteet on annettava <a href="protocol.html#escaped">UTF-8-muodossa</a> ennen näiden muuttamista %-heksakoodiksi. Osa Web-palvelimista vastaa kuitenkin oikein vain, jos URL-osoitteet on muussa kuin UTF-8-muodossa. Luettavuussyistä kaikki sivustokartan URL-osoitteet samoin kuin itse sivustokartan URL on oltava oman Web-palvelimensa edellyttämässä muodossa. Määritä oman Web-palvelimen käyttämä merkistöjärjestelmä <a href="#sitetag">site määrittelyosassa</a> valinnaisen <strong>default_encoding</strong>-attribuutin avulla. Mikäli tätä määritettä ei käytetä ja Web-palvelin käyttää muuta kuin UTF-8-merkistöä, Google ei voi tietää, mitä merkistöä tulisi käyttää.</font></p>  <p><font size="-1">Jos URL-osoitteet sisältävät muita kuin ASCII-merkkejä, suosittelemme, että sivustokartan luontitoiminto suoritetaan Python-versiolla 2.3 tai tätä uudemmalla. Tässä Python-versiossa on aikaisempaa parempi ei-ASCII-tuki. Jos verkkotunnuksen nimi sisältää muita kuin ASCII-merkkejä, on käytettävä Python-versiota 2.3 tai tätä uudempaa, koska aikaisemmissa versioissa ei ole Internationalizing Domain Names in Applications (IDNA)-tukea. Ilman IDNA-tukea sivustokartan luontitoiminto ei pysty koodaamaan ei-ASCII-verkkotunnuksia oikein. </font></p>  <font size="-1">     <br>  <p class="d" align="right"><i>Muokattu viimeksi: 15. huhtikuuta 2006</i></p>  </font></div>  </td>  </tr>  <tr>  <td width="1%" valign="top"><img src="http://www.google.com/images/art.gif" width="143" height="53" vspace="5" hspace="15"></td>  <td style="background-color: #ffffff" width="1" valign="top"><img src="http://www.google.com/images/cleardot.gif" width="1" height="1"></td>  <td style="background-color: #ffffff" width="10" valign="top"><img src="http://www.google.com/images/cleardot.gif" width="1" height="1"></td>  <td valign="middle"><div class="footer">  <div align="center"><font size="-1"> &copy;2007 Google - <a href="http://www.google.com/privacy.html">Tietosuojakäytäntö</a> - <a href="http://www.google.com/accounts/TOS">Käyttöehdot</a> - <a href="http://www.google.com/about.html">Tietoja Googlesta</a> </font></div>  </div></td>  </tr> </table> </body> </html>  