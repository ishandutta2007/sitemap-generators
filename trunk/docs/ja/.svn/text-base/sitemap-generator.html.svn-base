<html lang="ja"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"> <link rel="stylesheet" href="http://www.google.com/google.css"> <link rel="stylesheet" href="../leftnav.css"> <style>
<!--
body,td,font,p,a{font-family:arial,sans-serif}
.i { margin-left: 1em; margin-right: 2em; }
//.style1 {font-weight: bold}
.style1 {font-weight: bold}
.d {color:#999999;text-decoration:italics;font-size:10px;}
.changes {color: #FF0000}
-->
</style> <script src=" https://ssl.google-analytics.com/urchin.js " type="text/javascript">
</script> <script type="text/javascript">
  _uacct="UA-18009-2";
  _utcp="/webmasters/sitemaps/";
  _uanchor=1; 
  urchinTracker();
</script>  <title>Google ウェブマスター ツール</title> </head> <body class="search" bgcolor="#ffffff" text="#000000" link="#0000CC" vlink="#800080" alink="#ff0000" topmargin="3"> <table width="95%" border="0" cellpadding="0" cellspacing="2">  <tr valign="top">  <td width="1%"><a href="https://www.google.com/webmasters/sitemaps/"> <img src="http://www.google.com/images/google_sm.gif" hspace="15" height="59" width="143" vspace="5" alt="Google ホームページに戻る" border="0"></a></td>  <td width="100%" valign="middle">  <table width="100%" border="0" cellspacing="0" cellpadding="0">  <tr>  <td><font size="+0"><b>ウェブマスター ツール</b></font></td>  </tr>  <tr>  <td style="border-bottom:1px solid #999999" height="1"><img width="1" height="1" alt=""></td>  </tr>  </table>  </td>  </tr> </table> <table border="0" cellpadding="2" cellspacing="0" width="95%">  <tr>  <td width="175" valign="top">  <font size="-1">  <p class="sidenavlink"><a href="about.html">ウェブマスター ツールについて</a></p>  <p class="sidenavlink"><a href="protocol.html">サイトマップ プロトコルを使用する場合</a></span><p class="sidenavtoc">サイトマップ生成ツールを使用する場合</p> <p class="sidenavlink"><a href="http://www.google.com/webmasters/">Google Webmaster Central</a></p>  </font></td>  <td background="http://www.google.com/images/dot2.gif" valign="bottom" width="5"><img src="http://www.google.com/images/dot2.gif" width="1" height="1"></td>  <td style="background-color: #ffffff" width="10" valign="top"><img src="http://www.google.com/images/cleardot.gif" width="10" height="1"></td>  <td>  <div class="content">   <p><strong>コンテンツ</strong></p>  <p><font size="-1"><a href="#before">使用に関する注意点</a><br><a href="#download">サイトマップ生成ツールのプログラム ファイルをダウンロードする</a><br><a href="#config">設定ファイルを作成する</a><br><a href="#copy">ファイルをウェブ サーバーにアップロードする</a><br><a href="#execute">サイトマップ生成ツールのスクリプトを実行する</a><br><a href="#submitting">Google にサイトマップを送信する</a><br><a href="#troubleshoot">トラブルシューティング</a>  </font></p>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="before"></a><b>使用に関する注意点</b></td>  </tr>  </tbody></table>  <p><font size="-1">Google サイトマップ生成ツールは、サイトマップ プロトコルに準拠したサイトマップを作成するための Python スクリプトです。 このスクリプトを使用すると、URL のリスト、ウェブ サーバーのディレクトリ、またはアクセスログからサイトマップを作成できます。 このスクリプトの使用に必要な条件は次のとおりです。</font></p>   <ul>  <li><font size="-1">ウェブ サーバーに接続して、スクリプトを実行する権限があること。 </font></li>  <li><font size="-1">ウェブ サーバーに Python 2.2 以降がインストールされていること。 </font></li>  <li><font size="-1">Python を起動するコマンド (通常は <strong>python</strong> ですが、インストールしたバージョンによって異なる場合があります。 たとえば、ウェブ サーバーに異なるバージョンの Python がインストールされている場合、古いバージョンを呼び出すには <strong>python</strong>、新しいバージョンを呼び出すには <strong>python2</strong> を使用します)。</font></li>  <li><font size="-1">ウェブ サーバーのディレクトリ パス。 例えば、ウェブ サーバーで 1 つのサイトのみがホストされている場合は、<strong>var/www/html</strong> のようなパスになります。 複数のサイトがホストされている仮想サーバーの場合は、 <strong>home/virtual/site1/fst/var/www/html</strong> のようなパスになります。 </font></li>  <li><font size="-1">FTP などを使用して、ウェブ サーバーにファイルをアップロードできること。</font></li>  <li><font size="-1">アクセス ログに基づいて URL リストを作成する場合は、これらのログのエンコードと完全なパスを知っていること。</font></li>  </ul>   <p><font size="-1">ご不明な場合は、ご利用のウェブ ホスティング サービス会社にお問い合わせください。</font></p>  <font size="-1">  <p>上記の条件を満たしている場合は、 次の手順でサイトマップを登録します。</p>  </font>  <font size="-1">  <ol>  <li><font size="-1">サイトマップ生成ツールのプログラム ファイルを<a href="#download">ダウンロード</a>し、 ローカル ディレクトリにファイルを解凍します。 </font></li>  <li><font size="-1"><strong>example_config.xml</strong> ファイルをテンプレートとして使用し、サイトの<a href="#config">設定ファイルを作成</a>します。 必要に応じてこのファイルを修正して保存します。</font></li>  <li>ウェブ サーバーに<font size="-1"><a href="#copy">必要なファイルをアップロードします。</a> </font></li>  <li><font size="-1"><strong>sitemap_gen.py</strong> を<a href="#execute">実行</a>します。</font></li>  <li><font size="-1">生成されたサイトマップを Google ウェブマスター ツール アカウントに<a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34575&topic=8496">追加</a>します。 </font></li>  <li><font size="-1"><a href="#recur">自動更新スクリプトを設定します。</a> (オプション)</font></li>  </ol>  </font>   <p><font size="-1">サイトマップ生成ツールを使用できない場合は、テキスト ファイルなど<a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34606&topic=8516">別の形式</a>を使用して、Google ウェブマスター ツール アカウントにサイトマップを追加してください。Google サイトマップをサポートしているサードパーティ製のプログラムについては、<a href="http://code.google.com/sm_thirdparty.html">こちら</a>をご覧ください。</font></p>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="download"></a><b>1. サイトマップ生成ツールのプログラム ファイルをダウンロードする</b></td>  </tr>  </tbody></table>  <font size="-1">  <p>サイトマップ生成ツール ファイルは、<font size="-1">次の場所から</font> ZIP または GZ 形式でダウンロードできます。</p>  </font>  <p><font size="-1"><a href="http://www.sourceforge.net/project/showfiles.php?group_id=137793&amp;package_id=153422">http://sourceforge.net/project/showfiles.php?group_id=137793&amp;package_id=153422</a></font></p>  <font size="-1">  <p>圧縮ファイルをダウンロードしたら、ローカル ディレクトリに解凍します。 内容は次のとおりです。</p>  <ul>  <li><strong> README</strong> - このツールに関する最新の情報が記載されています。</li>  <li><strong>sitemap_gen.py</strong> - サイトマップを生成する Python スクリプトです。</li>  <li><strong>example_config.xml</strong> - ご自身のサイトの設定を記述するための設定ファイルのテンプレートです。</li>  <li><strong> example_urllist.txt</strong> - URL からサイトマップを作成する場合に使用する URL リストのテンプレートです。</li>  </ul>  </font>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="config"></a><b>2a. 設定ファイルの作成</b></td>  </tr>  </tbody></table>  <font size="-1">  </font><p><font size="-1">このセクションでは、設定ファイルの作成手順を説明します。 また、使用できるオプションの<a href="#config_reference">リファレンス</a>も記載されています。 <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34627&topic=8493">モバイル サイトマップ</a>を作成する場合は、<a href="#creating_mobile">モバイル サイトマップ ガイド</a>をご覧ください。 </font></p>  <font size="-1"><p>サイトの設定ファイルを作成するには、次の情報が必要となります。</p>  <ul>  <li>ご自身のサイトのベース URL (例: <strong>http://www.example.com</strong>/)。 <strong>http://</strong> などのプロトコルも含める必要があります。 たとえば、<strong>http://www.google.com</strong> は有効なベース URL ですが、 <strong>www.google.com</strong> は有効ではありません。</li>   
<li>サイトマップを置く場所へのウェブ サーバーのパス。 通常はベース URL のパスとなります。 Google サイトマップ生成ツールを実行すると、作成されたサイトマップが指定した場所に置かれます。</li>   <li>サイトマップ生成ツールでサイトマップの作成に使用するメソッド。 いくつかのメソッドを組み合わせて使用することもできます。 使用できるメソッドは次のとおりです。</li>  </ul>   </font><ol> <ul>  <li><font size="-1"><strong> <a href="#URL">URL</a></strong> - 設定ファイルのこのセクションにクロール対象にしたい URL とその情報をリストします。 通常は他のメソッドと組み合わせて使用し、他のメソッドで取得できない URL をこのセクションで個別に追加します。 </font></li>  <li><font size="-1"><strong><a href="#urllist">URL リスト</a> </strong> - URL のリストを含むテキスト ファイルから参照するよう指定します。 URL のリストを含むテキスト ファイルが既に存在する場合や、URL リストの生成にスクリプトを使用する場合は、このメソッドをご利用いただけます。 </font></li>  <li><font size="-1"><strong><a href="#directory">ディレクトリ パス</a></strong> - サイトのディレクトリ パスとそれらのパスに対応する URL を指定します。 サイトマップ生成ツールでは、それらのディレクトリの構造を元に URL のリストを作成します。 サイトが静的な HTML ファイルで構成されている場合は、このメソッドを使用できます。 </font></li>  <li><font size="-1"><strong> <a href="#logs">アクセス ログ</a></strong> - ログ ファイルのパスを指定します。 サイトマップ生成ツールでは、これらのログに含まれる URL に基づいて URL リストを作成します。 サイトが動的なページで構成されている場合は、このメソッドを使用できます。 </font></li>  <li><font size="-1"><strong> <a href="#sitemap">Sitemap</a></strong> - サイトマップ生成ツールを使用して作成した既存のサイトマップの場所を指定します。サイトマップ生成ツールでは、複数のサイトマップに記載されている URL をまとめて 1 つのサイトマップを作ることができます。このメソッドは、既にいくつかの小さなサイトマップを作成していてそれらを 1 つの大きなサイトマップにまとめる場合に使用できます。 </font></li>  </ul>  </ol>   <font size="-1"><p><b><a name="create_config"></a>設定ファイルを次の手順で作成します。</b></p>  </font>  <ol>  <font size="-1"> <li><strong>example_config.xml</strong> ファイルをテキスト エディタで開いて、 <strong>config.xml</strong> または <strong>mysite_config.xml</strong> などの名前を付けて、新規ファイルとして保存します。</li>  </font>    <font size="-1">  <li>以下のような、サイトの定義をしている箇所に移動します。</li>  </font>   <pre>&lt;site 
base_url="http://www.example.com/" 
store_into="/var/www/docroot/sitemap.xml.gz"
verbose="1"&gt;</pre>   <font size="-1"><li><strong>base_url</strong> 値をご自身のサイトの URL に変更します。</li>   <li><strong>store_into</strong> 値を、サイトマップを置くウェブサーバー上のパスに変更します。 Google では、サイトマップと同じ階層のディレクトリまたは下位のディレクトリの URL しか認識されないため、通常このパスはベース URL のパスになります。 スクリプトをアップロードするディレクトリからの相対パスまたはウェブサーバーのルートからの絶対パスで指定します。 ベース URL ディレクトリにスクリプトをアップロードする場合は、ファイル名のみを指定します。</li>  </font>  <font size="-1"></font><font size="-1"><li><span class="style1">** MODIFY</span> <span class="style1">or DELETE **</span> と書かれている箇所を順にご確認ください。 これらの各セクションはサイトマップの生成メソッドごとに分かれています。</li>  <li>使用しないメソッドのセクションは削除します。</li>  <li>変更が必要なメソッドは次の手順に従って編集します。</li>  <p><strong> URL<a name="URL"></a></strong></p>  <p>以下の表記がある箇所に移動します。</p>  </font>  <pre>&lt;!-- ** MODIFY or DELETE ** 
"url" nodes specify individual URLs to include in the map. &lt;br&gt;

Required attributes: 
href - the URL

Optional attributes: 
lastmod - timestamp of last modification (ISO8601 format) 
changefreq - how often content at this URL is usually updated
priority - value 0.0 to 1.0 of relative importance in your site 
--&gt; 

&lt;url href="http://www.example.com/stats?q=name" /&gt; 
&lt;url 
href="http://www.example.com/stats?q=age" 
lastmod="2004-11-14T01:00:00-07:00" 
changefreq="yearly" 
priority="0.3"
/&gt;</pre>  <font size="-1">  <p>このセクションには 2 つのサンプルが記載されています。 最初のサンプルには必須の属性のみが含まれ、2 つ目のサンプルには必須の属性とオプションの属性が含まれています。</p>  <p>サイトマップに含める URL ごとに上記のいずれかのフォーマットで URL を記述してください。 <strong>changefreq</strong> 属性は Google に各 URL の更新頻度の目安を伝えるためのものです。 Google では、この情報を元にページをクロールし、新しいコンテンツをチェックします。 <strong>priority</strong> 属性は、ご自身のサイト内の他のページと比べたこのページの相対的な重要度です。 Google では、この属性を使用して、ご自身のサイト内のどのページが最も重要であるかを判断します。 他のサイトのページと比べた重要度ではありません。</p>  </font>  <p><font size="-1"><strong>URL リスト<a name="urllist"></a> </strong></font></p>  <font size="-1"><p>以下の表記がある箇所に移動します。</p>   </font>  <pre>&lt;!-- ** MODIFY or DELETE **
"urllist" nodes name text files with lists of URLs. 
An example file "example_urllist.txt" is provided. 

Required attributes: 
path - path to the file 

Optional attributes: 
encoding - encoding of the file if not US-ASCII 
--&gt; 
&lt;urllist path="example_urllist.txt" encoding="UTF-8" /&gt;</pre>   <p><font size="-1">URL のリストが記載されたテキスト ファイルからデータを読み込む場合は、このフォーマットで、そのテキストファイルの場所を指定します。 テキスト ファイルのテンプレートは、 <strong>example_urllist.txt</strong> を参考にしてください。 ここではウェブ サーバーへの絶対パスまたは相対パスのいずれかを指定できます。たとえば、サイトマップ生成ツールと <strong>urlist.txt </strong>ファイルを同じディレクトリに置いている場合は、<strong>.txt</strong> ファイルのファイル名のみを指定します。 UTF-8 以外のエンコードを使用してテキスト ファイルを作成した場合は、<strong>encoding</strong> 属性を使用してエンコードを指定できます。 URL が記載されたテキスト ファイルが複数ある場合は、ワイルドカードを使用できます。 たとえば、次のように指定します。</font></p>  <pre>&lt;urllist path=&quot;example_urllist*.txt&quot; encoding=&quot;UTF-8&quot; /&gt;</pre>  <p><font size="-1">テキスト ファイルに含めた各 URL には、最終更新日や更新頻度、優先度を指定できます。 このファイルの構造の詳細については、<a href="#urllist_reference">URL リスト テキスト ファイルのリファレンス セクション</a>を参照してください。</font></p>  <p><font size="-1"><strong>ディレクトリ パス<a name="directory"></a> </strong></font></p>  <p><font size="-1">以下の表記がある箇所に移動します。 </font></p>   <pre>&lt;!-- ** MODIFY or DELETE ** 
"directory" nodes tell the script to walk the file system and 
include all files and directories in the Sitemap.

Required attributes:
path - path to begin walking from 
url - URL equivalent of that path 

Optional attributes:
default_file - name of the index or default file for directory URLs

--&gt; 
 &lt;directory  path=&quot;/var/www/icons&quot;    url=&quot;http://www.example.com/images/&quot; /&gt;<br>&lt;directory<br>path=&quot;/var/www/docroot&quot;<br>url=&quot;http://www.example.com/&quot;<br>default_file=&quot;index.html&quot;<br>/&gt;</pre>   <p><font size="-1">このセクションには 2 つのサンプルが記載されています。 ご自身のサイトの全てのページが 1 つのサブディレクトリの中にある場合は、そのサブディレクトリに関する情報のみを含めてください。もし、ページが複数のサブディレクトリにある場合は、それぞれのサブディレクトリの情報を含めてください。 </font></p>   <p><font size="-1">各 URL は、ステップ 3 で指定したベース URL から始まる必要があります。たとえば、<strong>example_config.xml</strong> ファイルの例では、 URL が <strong>http://www.example.com/</strong> から始まっているので、有効とみなされます。 </font></p>   <p><font size="-1">サンプルを、ご自身のサイトにあわせて置き換えます。 <strong>path</strong> 値には、ウェブ サーバー上のディレクトリの絶対パスを指定します。 <strong>url</strong> 値には、http などのプロトコルを含む完全な URL を指定し、必要に応じて末尾にスラッシュを含めます。 </font></p>  <p><font size="-1"><strong>default_file</strong> パラメータを使用して、ウェブサーバーでのディレクトリのデフォルト ページとして使用するファイル名を指定できます。 上の例では、<strong>/var/www/docroot</strong> が <strong>http://www.example.com/index.html</strong> と解釈されるため、このパラメータを指定する必要はありません。 指定した場合サイトマップ生成ツールでは、各ディレクトリの URL とファイル名の URL の両方を含めるのではなく、各サブディレクトリに対応するページを 1 つだけ含めます。また、含められるページの lastmod 属性には、ディレクトリではなくファイルの最終更新日が使用されます。 </font></p>  <p><font size="-1"><strong>アクセス ログ<a name="logs"></a></strong></font></p>  <p><font size="-1">以下の表記がある箇所に移動します。 </font></p>  <pre>&lt;!-- ** MODIFY or DELETE **
&quot;accesslog&quot; nodes tell the script to scan webserver log files to
extract URLs on your site.  Both Common Logfile Format (Apache's default 
logfile) and Extended Logfile Format (IIS's default logfile) can be read.
				
Required attributes:
 path - path to the file
Optional attributes:
 encoding - encoding of the file if not US-ASCII
  --&gt;
&lt;accesslog path=&quot;/etc/httpd/logs/access.log&quot; encoding=&quot;UTF-8&quot; /&gt;
&lt;accesslog path=&quot;/etc/httpd/logs/access.log.0&quot; encoding=&quot;UTF-8&quot; /&gt;
&lt;accesslog path=&quot;/etc/httpd/logs/access.log.1.gz&quot; encoding=&quot;UTF-8&quot; /&gt;</pre>   <p><font size="-1">このセクションには 3 つのサンプルが記載されています。 これらのサンプルを元にして、ログ ファイル 1 つにつき、 1 つのエントリを記述します。 path の値には、ウェブ サーバーの絶対パスとファイル名を指定します。 ログ ファイルが US-ASCII または UTF-8 でエンコードされていない場合は、オプションの <strong>encoding</strong> 属性を使用して、エンコードを<a href="#encoding">指定</a>します。 ログ ファイルは、ワイルドカードを使って指定することもできます。 たとえば、上の例では次のエントリを含めると、3 つのログ ファイルすべてを含めることができます。</font></p> <pre>&lt;accesslog path=&quot;/etc/httpd/logs/access.log*&quot; encoding=&quot;UTF-8&quot; /&gt;</pre>  <p><font size="-1">サイトマップ生成ツールでは、各 URL のアクセス頻度に基づいて、ログ内の URL に優先度を割り当てます。たとえば、100 回のアクセスがあった URL には、2 回しかアクセスのない URL より高い優先度が割り当てられます。この優先度は相対的な基準で、各 URL とサイト内の他の URL との比較に基づいて割り当てられます。</font></p> <p><font size="-1"><strong> sitemap <a name="sitemap"></a></strong></font></p> <p><font size="-1">以下の表記がある箇所に移動します。 </font></p>  <pre>&lt;!-- ** MODIFY or DELETE **<br>&quot;sitemap&quot; ノードは、他のサイトマップ ファイルを読み取るようスクリプトに通知します。 スクリプトを繰り返し実行し、結果を 1 つのサイトマップにまとめる場合に便利です。
				 
Required attributes:
  path - path to the file
  --&gt;
&lt;sitemap path=&quot;/var/www/docroot/subpath/sitemap.xml&quot; /&gt;</pre>   <p><font size="-1">このセクションには 1 つのサンプルが記載されています。 このサンプルを元に、含めたいサイトマップに 1 つにつき 1 つのエントリを記述します。 path の値には、ウェブ サーバーの絶対パスとファイル名を指定します。 gzip 形式で圧縮したサイトマップを含めることもできますが、拡張子は .gz である必要があります。サイトマップは、ワイルドカードを使って指定することもできます。 たとえば、次のエントリでは、"sitemap" という単語から始まり、拡張子が .xml のサイトマップをすべて含めることができます。</font></p> <pre>&lt;sitemap path=&quot;/var/www/docroot/subpath/sitemap*.xml&quot; /&gt;</pre>  <p><font size="-1">サイトマップ生成ツールでは、記載した各サイトマップのすべての URL とこれらの URL のオプション項目を抽出し、すべての情報をまとめて 1 つのサイトマップを作成します。現在のところ、サイトマップ生成ツール以外のツールを使用して作成したサイトマップで、このメソッドを使用できるかどうかは保証されません。</font></p>     <font size="-1"><li>以下の表記があるフィルタ定義の箇所に移動します。</li></font>   <pre>&lt;!-- ********************************************************         
FILTERS
				
Filters specify wild-card patterns that the script compares
against all URLs it finds. Filters can be used to exclude
certain URLs from your Sitemap, for instance if you have
hidden content that you hope the search engines don't find.

Filters can be either type=&quot;wildcard&quot;, which means standard
path wildcards (* and ?) are used to compare against URLs,
 or type=&quot;regexp&quot;, which means regular expressions are used
to compare.

Filters are applied in the order specified in this file.
An action=&quot;drop&quot; filter causes exclusion of matching URLs.
An action=&quot;pass&quot; filter causes inclusion of matching URLs,
shortcutting any other later filters that might also match.
If no filter at all matches a URL, the URL will be included.
Together you can build up fairly complex rules.

The default action is &quot;drop&quot;.
The default type is &quot;wildcard&quot;.

You can MODIFY or DELETE these entries as appropriate for
your site. However, unlike above, the example entries in
this section are not contrived and may be useful to you as
they are.
********************************************************* --&gt;

&lt;!-- Exclude URLs that end with a '~' (IE: emacs backup files) --&gt;
&lt;filter action=&quot;drop&quot; type=&quot;wildcard&quot; pattern=&quot;*~&quot; /&gt;

&lt;!-- Exclude URLs within UNIX-style hidden files or directories --&gt;
&lt;filter action=&quot;drop&quot; type=&quot;regexp&quot; pattern=&quot;/\.[^/]*&quot; /&gt;</pre>  <p><font size="-1">フィルタを使用して、生成したサイトマップから特定の URL を除外できます。 フィルタを使用することで、余分な URL を減らし、より簡潔なサイトマップを作成することができます。 また、特定の URL がインデックスに登録されないようにすることもできます。 <a href="http://www.robotstxt.org/wc/robots.html">robots.txt</a> ファイルを使用して URL がインデックスに登録されないよう指定している場合、その URL がサイトマップに含まれていても、クロールおよびインデックスへの登録は行われません。</font></p>   <p><font size="-1">フィルタのメソッドは、一部またはすべてを組み合わせて使用できます。 必要のないエントリを削除したり、エントリを追加することもできます。 たとえば、次のように使用します。</font></p>  <pre>&lt;filter action=&quot;drop&quot; type=&quot;wildcard&quot; pattern=&quot;*.jpg&quot; /&gt;</pre>  <p><font size="-1">このフィルタでは、.jpg で終わる URL が除外されます。 サイト内のすべての画像が HTML ページ内からアクセスされていて、画像の URL に直接リンクをされたくない場合は、このようなフィルタを設定することができます。 </font></p>  <pre>&lt;filter action=&quot;pass&quot; type=&quot;wildcard&quot; pattern=&quot;*.htm*&quot; /&gt;
&lt;filter action=&quot;drop&quot; type=&quot;wildcard&quot; pattern=&quot;*&quot; /&gt;</pre><font size="-1">このフィルタでは、すべての .htm* ファイルが含められ、他のファイルが除外されます。</font><br>  <br>    <font size="-1"></font><font size="-1"><li>サイトに合わせてすべての修正が完了したら、ファイルを保存します。</li></font>  </ol>    <font size="-1"><a name="config_reference"></a><p><b>設定ファイルのシンタックス リファレンス</b></p>  </font><font size="-1">  </font>  <p><font size="-1">設定ファイルの全シンタックスは次のとおりです。 タグごとにコード サンプルと属性の説明を記載します。 </font></p>   <p><font size="-1"><strong><a name="sitetag"></a>site<br></strong></font><font size="-1">必須のタグで、各設定ファイルの先頭に含める必要があります。 </font></p>  <pre>&lt;site
base_url="http://www.example.com/"
store_into="/var/www/html/sitemap.xml.gz"
verbose="1"
supress_search_engine_notify="1"
default_encoding="UTF-8"&gt;</pre>  <br>  <font size="-1">  <table border="1" cellpadding="2" cellspacing="0" width="100%">   <tbody><tr>  <td valign="top" width="19%"><pre>base_url</pre></td>  <td valign="top" width="6%"><font size="-1">必須</font></td>  <td valign="top" width="75%"><font size="-1">ウェブ サイトのベース URL - このパスから始まる URL のみがサイトマップに含められます。</font></td>  </tr>   <tr>  <td valign="top"><pre>store_into</pre></td>  <td valign="top"><font size="-1">必須</font></td>  <td valign="top"><font size="-1">ファイルの出力先のウェブ サーバーのパスです。 このファイルはスクリプトで自動的に生成されるため、スクリプトを実行する前にファイルを作成する必要はありません。</font></td>  </tr>   <tr>  <td valign="top"><pre>verbose</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">0 から 3 の数字を入力します。数字が大きいほど、より多くのデバッグ情報が返されます。</font></td>  </tr>   <tr>  <td valign="top"><pre>suppress_search_engine_notify</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1"></font><font size="-1">"1" を入力すると、テストの際に検索エンジンへの通知を無効にできます。</font></td>  </tr>   <tr>  <td valign="top"><pre>default_encoding</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">ファイル システムのパスと URL に使用するエンコードを指定します。</font></td>  </tr>   </tbody></table>  </font>  <font size="-1">   <p></p>  </font>  <p><font size="-1"><strong>url<br></strong></font><font size="-1">オプションのタグで、サイトの各 URL をリストする際に使用できます。 </font></p>  <p><pre>&lt;url
href="http://www.example.com/stats?q=age" 
lastmod="2004-11-14T01:00:00-07:00" 
changefreq="yearly" 
priority="0.3"
/&gt;</pre></p><table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td height="20" valign="top" width="19%"><pre>href</pre></td>  <td width="6%" valign="top"><font size="-1">必須</font></td>  <td valign="top" width="75%"><font size="-1">ウェブ サイトのベース URL - このパスから始まる URL のみがサイトマップに含められます。</font></td>  </tr><tr>  <td valign="top"><pre>lastmod</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">URL の最終更新日で、<a href="http://www.w3.org/TR/NOTE-datetime">W3C Datetime</a> 形式 (YYYY-MM-DDThh:mm:ss+00:00) を使用します。  時刻の部分は省略できます。 例:<br>&nbsp;&nbsp;"2005-02-21T18:00:15+00:00"<br>&nbsp;&nbsp;"2005-02-21"</font></td>  </tr><tr>  <td valign="top"><pre>changefreq</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">URL の更新頻度で、クローラのクロール頻度の目安として使用されます。 値には、"always"、"hourly"、"daily"、"weekly"、"monthly"、"yearly"、または "never" を使用できます。</font></td>  </tr><tr>  <td valign="top"><pre>priority</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">サイト内の他のページと比較したこのページの優先度です。 値は 0.0 から 1.0 の間で指定し、0.0 は優先度が一番低く、1.0 は一番高いことを示します。 優先度は、検索エンジンでサイトをクロールする際に URL を選択する順序に影響します。 優先度は、相対的な基準としてサイト内から URL を選択する目的でのみ使用されます。ページの優先度は、他のサイトのページの優先度とは比較されません。</font></td>  </tr>  </tbody></table>  <p><font size="-1"><b>urllist<br></b></font><font size="-1">オプションのタグで、サイトの URL をリストしたテキスト ファイルを指定できます。 </font></p>  <pre>&lt;urllist path="/var/www/html/urllist.txt" encoding="UTF-8" /&gt;</pre>  <br>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td height="20" valign="top" width="19%"><pre>path</pre></td>  <td width="6%" valign="top"><font size="-1">必須</font></td>  <td valign="top" width="75%"><font size="-1">.txt ファイル名およびそのパス。 相対パスまたは絶対パスで記載します。 </font></td>  </tr><tr>  <td valign="top"><pre>encoding</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">UTF-8を使用しない場合は、ファイルのエンコードを指定します。</font></td>  </tr>  </tbody></table> <p><font size="-1"><a name="urllist_reference"></a><b>urllist.txt</b> ファイルは、登録する URL をリストしたテキスト ファイルです。 各 URL に属性を含めることもできます (オプション)。 属性は URL と同じ行に入力し、半角スペースで区切ります。 たとえば、次のように指定します。 </font></p>  <pre>http://www.example.com/abc/something
http://www.example.com/abc/xyy.pdf lastmod=2001-12-31T14:05:06+00:00
http://www.example.com/abc/def?x=12&amp;y=23 changefreq=weekly priority=0.3</pre>  <p>  <font size="-1">   </font><table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>lastmod</pre></td>  <td valign="top" width="6%"><font size="-1">オプション</font></td>  <td width="75%" valign="top"><p><font size="-1">URL の最終更新日で、<a href="http://www.w3.org/TR/NOTE-datetime">W3C Datetime</a> 形式 (YYYY-MM-DDThh:mm:ss+00:00) を使用します。  時刻の部分は省略できます。 例:</font><font size="-1"><br>  <br>&nbsp;&nbsp;"2005-02-21T18:00:15+00:00"<br>&nbsp;&nbsp;"2005-02-21"</font></p>  </td>  </tr><tr>  <td valign="top"><pre>changefreq</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1"><font size="-1">URL の更新頻度で、クローラのクロール頻度の目安として使用されます。 値には、"always"、"hourly"、"daily"、"weekly"、"monthly"、"yearly"、または "never" を使用できます。</font></font></td>  </tr><tr>  <td valign="top"><pre>priority</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">サイト内の他のページと比較したこのページの優先度です。 値は 0.0 から 1.0 の間で指定し、0.0 は優先度が一番低く、1.0 は一番高いことを示します。 優先度は、検索エンジンでサイトをクロールする際に URL を選択する順序に影響します。 優先度は、相対的な基準としてサイト内から URL を選択する目的でのみ使用されます。ページの優先度は、他のサイトのページの優先度とは比較されません。</font></td>  </tr>  </tbody></table>  </p>  <font size="-1">  </font>  <p><font size="-1"><strong>directory<br></strong></font><font size="-1">オプションのタグで、サイトのディレクトリを指定すると、サイトマップ生成ツールでこれらのディレクトリにあるファイルから URL リストが生成されます。 </font></p>  <pre>--&gt; 
 &lt;directory  path=&quot;/var/www/icons&quot;    url=&quot;http://www.example.com/images/&quot; /&gt;<br>&lt;directory<br>path=&quot;/var/www/docroot&quot;<br>url=&quot;http://www.example.com/&quot;<br>default_file=&quot;index.html&quot;<br>/&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>path</pre></td>  <td valign="top" width="6%"><font size="-1">必須</font></td>  <td width="75%" valign="top"><font size="-1">開始するパスを指定します。 サイトマップ生成ツールでは、このディレクトリとすべてのサブディレクトリの URL が取得されます。</font></td>  </tr>   <tr>  <td valign="top"><pre>url</pre></td>  <td valign="top"><font size="-1">必須</font></td>  <td valign="top"><font size="-1">path で指定した値に相当する URL を指定します。</font></td>  </tr>  <tr>  <td valign="top"><pre>default_file</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">サーバー上のディレクトリのデフォルト ファイルを指定します。</font></td>  </tr>  </tbody></table>  </font>  <p><font size="-1"><b> accesslog<br></b>オプションのタグで、IIS および Apache 形式のアクセス ログのパスとファイル名を指定すると、サイトマップ生成ツールでログから URL が自動的に作成されます。 </font></p>   <pre>&lt;accesslog path="/etc/httpd/logs/access-0.log" encoding="UTF-8"/&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>path</pre></td>  <td valign="top" width="6%"><font size="-1">必須</font></td>  <td width="75%" valign="top"><font size="-1">ログ ファイルのパスを指定します。</font></td>  </tr>   <tr>  <td valign="top"><pre>encoding</pre></td>  <td valign="top"><font size="-1">オプション</font></td>  <td valign="top"><font size="-1">UTF-8 を使用しない場合は、ファイルのエンコードを指定します。</font></td>  </tr>  </tbody></table>    <p><font size="-1"><b> sitemap<br></b>オプションのタグで、サイトマップ生成ツールを使用して作成した既存のサイトマップのパスとファイル名を指定します。 サイトマップ生成ツールでは、各サイトマップに記載されたすべての URL およびオプション項目をまとめて 1 つのサイトマップを作成します。 </font></p>   <pre>&lt;sitemap path=&quot;/var/www/docroot/subpath/sitemap.xml&quot; /&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>path</pre></td>  <td valign="top" width="6%"><font size="-1">必須</font></td>  <td width="75%" valign="top"><font size="-1">サイトマップ ファイルのパスを指定します。</font></td>  </tr>  </tbody></table>    <p><font size="-1"><strong><a name="filter_examples"></a>filter<br></strong></font><font size="-1">オプションのタグで、特定のファイルを含める、または除外するようルールを作成できます。 フィルタは config.xml ファイルで設定した順序で実行されます。 url、urllist、directory、または accesslog を組み合わせてサイトマップに含む URL の指定をした場合でも、追加される URL は、すべてフィルタにかけられます。 </font><font size="-1">フィルタに一致しない URL は、サイトマップに含められます。</font></p>   <pre>&lt;filter action="drop" type="wildcard" pattern="*/internal/*" /&gt;</pre>  <table border="1" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td width="19%" valign="top"><pre>action</pre></td>  <td valign="top" width="6%"><font size="-1">オプション</font></td>  <td width="75%" valign="top">  <font size="-1"><p>フィルタのアクションです。 有効な値は次のとおりです。</p>  </font> <ul>  <li><font size="-1">drop - 一致する URL を除外します。 action 値のデフォルトで、指定しない場合は "drop" とみなされます。 </font></li>  <li><font size="-1">pass - 一致する URL を含めます。</font></li>  </ul>  </p></td>  </tr>   <tr>  <td width="19%" valign="top"><pre>type</pre></td>  <td valign="top" width="6%"><font size="-1">オプション</font></td>  <td width="75%" valign="top"><font size="-1"><p>フィルタの種類です。 有効な値は次のとおりです。</p>  </font> <ul>  <li><font size="-1">wildcard - URL の比較に標準のパスのワイルドカード (? および *) が使用されます。 type 値のデフォルトで、指定しない場合は "wildcard" とみなされます。 </font></li>  <li><font size="-1">regexp - 正規表現が使用されます。</font></li>  </ul></td>  </tr>  <tr>  <td valign="top"><pre>pattern</pre></td>  <td valign="top"><font size="-1">必須</font></td>  <td valign="top"><font size="-1">フィルタを適用するパターンを指定します。</font></td>  </tr>  </tbody></table>  <font size="-1"> <p><b><a name="encoding"></a>encoding</b></p>   <p>URL リストやウェブ サーバーのログなど、設定ファイルで参照するファイルのエンコードには、デフォルトの UTF-8 以外の形式を使用できます。この場合は、サイトマップ生成ツールでファイルの読み込みに使用するエンコードを config.xml で次のように指定します。</p>  <ul>  <li><strong>encoding="utf-8"</strong> がデフォルトの値です。</li><li><strong>encoding="ascii</strong>" は UTF-8 のサブセットであるため、特に指定する必要はありません。</li><li><strong>encoding="iso-8859-1</strong>" はヨーロッパ言語で一般的に使用されています。</li></ul>  </font>   <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="creating_mobile" id="creating_mobile"></a><b>2b. モバイル設定ファイルの作成に関するその他の情報</b></td>  </tr>  </tbody></table>  <p><font size="-1">モバイル サイトマップの設定ファイルは、通常のサイトマップと同じ方法で作成できます。 ただし、マークアップ言語別に設定ファイルを作成し、個別のサイトマップが生成されるよう、サイトマップ生成ツールを各設定ファイルごとに実行する必要があります。</font></p>  <p><font size="-1">各設定ファイルは、次のようにする必要があります。</font></p>  <ul>  <li><font size="-1"><a href="#create_config"><strong>store_into</strong>値</a>にはマークアップ言語ごとに異なるファイル名を指定します。</font></li>  <li><font size="-1"><a href="#filter_examples">フィルタ</a>を使用して、マークアップ言語に含める URL と除外する URL を指定します。 各サイトマップには、1 種類のマークアップ言語の URL しか含めることはできません。 複数のマークアップ言語で作成した URL は、それぞれのサイトマップに含めます。</font></li>  </ul>  <p><strong><font size="-1">フィルタの例</font></strong></p>  <p><font size="-1">マークアップ言語別に複数のモバイルサイトマップを生成するための拡張子をベースとしたフィルタの使用例を次に紹介します。 URL をマークアップ言語別のフォルダに分類しているなど、サイトの構成が異なる場合は、サイトの構成に基づいてフィルタを設定します。フィルタは、設定ファイルに記述した順序で実行されるため、サイトマップに含める URL に対して "pass" アクションを行うフィルタをまず最初に記述する必要があります。 </font></p>  <p><font size="-1">WML (WAP 1.2) コンテンツのサイトマップを作成するには</font></p>   <pre>&lt;filter action="pass" type="wildcard" pattern="*.wml" /&gt;
&lt;filter action="drop" type="wildcard" pattern="*.*" /&gt;<br>
</pre>   <p><font size="-1">XHTML モバイル プロファイル (WAP 2.0) コンテンツのサイトマップを作成するには</font></p>   <pre>&lt;filter action="pass" type="wildcard" pattern="*.xhtml" /&gt;
&lt;filter action="drop" type="wildcard" pattern="*.*" /&gt;<br>
			</pre>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="copy"></a><b>3. ファイルをウェブ サーバーにアップロードする</b></td>  </tr>  </tbody></table>  <p><font size="-1">コマンド ラインでアクセスできるウェブ サーバー上の場所に、次のファイルをアップロードします。 </font></p>   <font size="-1"><ul>  <li><strong>config.xml</strong> - <strong>example_config.xml</strong> を使用して作成した設定ファイルです。</li>  <li><strong> sitemap_gen.py</strong> - サイトマップを生成する Python スクリプトです。</li>  <li><strong> urllist.txt</strong> - 必須ではありません。テキスト ファイルでサイトマップを生成した場合のみ必要です。</li>  </ul>   </font>  <p><font size="-1">接続環境により、ファイルのアップロード方法は異なります。 一般的な方法には、<a href="http://www.google.com/search?q=ftp">FTP</a> と SCP があります。 詳細については、ウェブ ホスティング サービス会社にお問い合わせください。 </font></p>   <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="execute"></a><strong>4. サイトマップ生成ツールのスクリプトを実行する (sitemap_gen.py)</strong></td>  </tr>  </tbody></table>   <p><font size="-1">サイトマップ生成ツールを実行するには、ウェブ サーバーに接続する必要があります。 接続環境により、サーバーへの接続方法は異なります。 たとえば、Unix ベースのサーバーの場合は、通常 <a href="http://www.google.com/search?q=ssh">SSH</a> を使用して接続します。ウェブ サーバーへの接続およびスクリプトの実行に関する詳細については、ご利用のウェブ ホスティング サービス会社にお問い合わせください。 </font></p>   <p><font size="-1">このファイルをウェブ サーバーにコピーしたら、サイトマップ生成ツールのスクリプトを実行します。  ウェブ サーバーに接続し、次のコマンドを実行します (<strong>&lt;path/config.xml&gt;</strong> を設定ファイルのパスとファイル名に置き換えます。Python スクリプトと同じ場所にこのファイルをアップロードした場合は、パスを含める必要はありません)。</font></p>   <pre>python sitemap_gen.py --config=&lt;path/config.xml&gt</pre> <p><font size="-1">たとえば、UNIX ベースのコマンド ラインは、次のようになります。</font></p> <p><img src="images/python_command.gif" alt="Python コマンド"></p> <p><font size="-1">MS-DOS べースの Shell コマンドは、次のようになります。</font></p> <p><img src="images/python_dos.gif" alt="Python コマンド"></p> <p><font size="-1"><b>ヒント: </b> サイトマップの設定テスト中で送信の準備ができていない場合は、次のシンタックスを使って、サイトマップ生成ツールから Google に通知しないよう指定できます。</font></p>  <pre><br>$ python sitemap_gen.py --config=config.xml --testing</pre>  <font size="-1"><p>リクエストのステータスがコマンド プロンプトに表示されます。</p></font> <pre>Reading configuration file: /path/config.xml
	Opened URLLIST "/path/urllist.txt"
	Walking DIRECTORY "/var/www/html/dir"
	Walking DIRECTORY "/var/www/html/dir2"
	Opened ACCESSLOG "/etc/httpd/logs/access-0.log"
	Sorting and normalizing collected URLs.
	Writing Sitemap file "/path/sitemap.xml.gz" with 1092 URLs
	Notifying search engines.
	Notifying www.google.com
	Count of file extensions on URLs:
		208  .html
		574  .jpg
		...
		Number of errors: 0
		Number of warnings: 0</pre>  <font size="-1">  <p>このような出力が表示されない場合は、設定ファイルの verbose 値を変更して、スクリーンに出力されるデバッグ情報の量を調整できます。 この例では、verbose 値を "1" に設定しています。</p>  <p>ファイルにエラーがある場合はすべて表示されます。 たとえば、ディレクトリ エントリの url= 属性を指定しなかった場合は、次のエラーが返されます。</p></font> <pre>[ERROR] Directory entries must have both "path" and "url" attributes
	Number of errors: 1</pre>  <font size="-1">  </font>  <p><font size="-1">この場合は、<b>config.xml</b> ファイルのエラーをすべて修正し、スクリプトを再度実行してください。 エラーがない場合は、設定ファイルで指定した場所に新しい <b>sitemap.xml.gz</b> ファイルが作成されます。 </font></p>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="submitting" id="submitting"></a><strong>5. Google にサイトマップを送信する</strong></td>  </tr>  </tbody></table>  <p><font size="-1">サイトマップ生成ツールでは、設定ファイルで指定した場所に <strong>sitemap.xml.gz</strong> ファイルが作成されます。 ファイルの作成が完了したら、ウェブ ブラウザからアクセスできるかどうかを確認します。 次に、<a href="https://www.google.com/webmasters/sitemaps/siteoverview">Google サイトマップ</a> アカウントにこのファイルを<a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34575&topic=8496">追加</a>します。 これにより、ステータス情報や統計情報が表示されるようになります。 サイトマップに問題があるというメッセージが表示された場合は、問題を修正してから再送信します。 サイトマップを 1 回手動で追加したら、 <a href="submit.html#ping">HTTP リクエスト</a>を使用して、サイトマップに行った変更を Google に通知できます (Google ウェブマスター ツール アカウントから再送信することもできます)。 </font></p>   <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="recur"></a><b>6. 自動更新スクリプトを設定する</b></td>  </tr>  </tbody></table>  <font size="-1">  <p>コンテンツが更新されるたびにサイトマップ生成ツールを実行することをお勧めしています。ただし最短で 1 時間に 1 回の設定となります。</p>  </font>  <p><font size="-1">UNIX ウェブ サーバーの場合は <a href="http://www.google.com/search?q=cron">cron ジョブ</a>として設定できます。 </font></p>  <font size="-1"><p>その他のプラットフォームの場合は、自動更新スクリプトの設定について、システム管理者にお問い合わせください。 また、<a href="http://www.google.com/webmasters/sitemaps/googlegroup?hl=ja">Google グループ</a>の Google サイトマップ グループでアドバイスを得ることもできます。</p>   </font>  <p><font size="-1"><a href="submit.html#ping">HTTP リクエスト</a>を使用して、Google にサイトマップの変更を通知できます。 この場合は、事前に Google アカウントから <a href="https://www.google.com/webmasters/sitemaps/siteoverview">Google ウェブマスター ツール</a>にログインして、Google ウェブマスター ツール アカウントに手動で<a href="http://www.google.com/support/webmasters/bin/answer.py?answer=34575&topic=8496">サイトマップを追加</a>する必要があります。</font></p>  <font size="-1"></font>  <table border="0" cellpadding="2" cellspacing="0" width="100%">  <tbody><tr>  <td style="border-top: 1px solid rgb(221, 173, 8); background-color: rgb(254, 250, 222);"><a name="troubleshoot"></a><b>トラブルシューティング</b></td>  </tr>  </tbody></table>  <font size="-1">  <p>このセクションでは、サイトマップ生成ツールの使用に関するよくある質問や問題とその解決方法を紹介します。</p>  <p><b>ウェブのアクセス</b></p>  <p><b>問題: </b> サイトマップ生成ツールで次のエラーと警告が返される。</p>  </font> <pre>[ERROR] When attempting to access your generated Sitemap at the following URL:
	http://www.example.com/sitemap.xml.gz
	we failed to read it.  Please verify the store_into path you specified in
	your configuration file is web-accessible.  Consult the FAQ for more
	information.
	[WARNING] Proceeding to notify with an unverifiable URL.</pre>  <font size="-1">  <p><b>状況: </b> サイトマップ生成ツールで指定された場所にファイルを作成し、 HTTP を使用してファイルを取得しようとしましたが失敗しました。 検索エンジンへの通知は行われましたが、検索エンジンが、生成されたサイトマップにアクセスできない可能性があります。</p>  <p>サイトマップ生成ツールでは、<b>config.xml</b> ファイルの store_into 属性で指定されたパスにサイトマップ ファイルを作成します。 その後、base_url 属性を使用してこのファイルの URL を設定し、検索エンジンに通知します。 たとえば、設定ファイルで次の場所を指定した場合</p>  </font> <pre>&lt;site base_url="http://www.example.com/"
	      store_into="/var/www/html/sitemap.xml.gz"&gt;</pre>  <font size="-1">  </font><p><font size="-1">サイトマップ生成ツールでは、次の場所にサイトマップがあることを検索エンジンに通知します。</font></p>   <pre>http://www.example.com/sitemap.xml.gz</pre>  <font size="-1"><p>この URL からサイトマップにアクセスできる必要があります。 この URL でサイトマップにアクセスできない場合、検索エンジンではサイトマップを見つけることができません。</p>  </font><p><font size="-1"><b>解決方法: </b> <b>config.xml</b> でサイトマップの base_url と store_into パスを正しく指定していることを確認してください。 また、ウェブ ブラウザで base_url のサイトマップ ファイルを表示できることを確認してください。 パスまたは URL にエラーがある場合は、サイトマップ生成ツールをもう一度実行するか、サイトマップ ファイルを正しい場所に移動して、ウェブ サイトから検索エンジンに手動で通知します。  </font></p>  <font size="-1"><p><b>XML のサポート</b></p>  <p><strong>問題: </strong> サイトマップ生成ツールで次のエラーが返される。</p>  </font> <pre>Some installs of Python 2.2 do not include complete support for XML. 
	Please try upgrading your version of Python and re-running the script.</pre>  <font size="-1"><p><b>状況: </b> プラットフォームにインストールされている Python (サイトマップ生成ツールを実行するのに必要なスクリプト言語) のバージョンで XML ファイルの処理に必要なライブラリがサポートされていません。 このスクリプトを実行するには、XML が完全にサポートされている必要があります。</p>  <p><b>解決方法: </b> Python を最新のバージョンにアップグレードします。  これを行うには、システム管理者への連絡が必要となる場合があります。</p>  <p>このエラーは、サイトマップ生成ツールのみに関するもので、サイトマップ自体には影響ありません。 別の方法やツールを使用してサイトマップを作成し、検索エンジンに送信することもできます。</p>  <p><b>圧縮ファイルに含まれている他のファイルは何ですか。</b></p>  <p>sitemap_gen.py スクリプトを実行すると、上記以外のファイルがいくつか出力されます。 出力されるファイルは次のとおりです。</p>  </font>  <pre>AUTHORS
	ChangeLog
	COPYING
	example_config.xml
	example_urllist.txt
	PKG-INFO
	README
	setup.py
	sitemap_gen.py
	test_sitemap_gen.py</pre>  <font size="-1"><p>これらのファイルには、パッケージ内容やライセンス規約に関する情報が記載されているため、ご利用になる前にお読みください。</p>  <p>test_sitemap_gen.py は例外で、このオープンソースのプロジェクトに参加する開発者が使用するユニット テスト スクリプトです。 ソースコードを修正せずにサイトマップ生成ツールを使用する場合、このテスト スクリプトは必要ありません。 ほとんどの場合、ソースコードを修正する必要はありません。</p>このプロジェクトの開発に関心をお持ちの場合は、<a href="http://sourceforge.net/projects/goog-sitemapgen">http://sourceforge.net/projects/goog-sitemapgen</a> をご覧ください。 Google サイトマップをサポートしているサードパーティ製のプログラムについては、<a href="http://code.google.com/sm_thirdparty.html">こちら</a>をご覧ください。</p>   <font size="-1"></font></font>  <p><font size="-1"><b><a name="nonascii"></a>ASCII 以外の文字</b></font></p>  <font size="-1"><font size="-1">  </font></font>  <p><font size="-1"><strong>問題: </strong> サイトのドメイン名または URL に、ASCII 以外の文字が含まれています。</font></p>  <p><font size="-1">通常、ASCII 以外の文字が含まれている URL は、パーセント記号のエスケープ処理を行う前に、<a href="protocol.html#escaped">UTF-8 でエンコードされている</a>必要がありますが、ウェブ サーバーによっては、 URL が UTF-8 以外でエンコードされている場合のみ正常に応答するものもあります。サイトマップ内のすべての URL およびサイトマップ自体の URL は、ホストするウェブ サーバーで読み取り可能な形式でエンコードされている必要があります。 <a href="#sitetag">site 定義セクション</a>の、オプションの <strong>default_encoding</strong> 属性を使用して、ホストするウェブ サーバーで使用されているエンコードを指定します。 ホストするウェブ サーバーで UTF-8 以外のエンコードを使用している場合、このタグを使用しないと、Google でどのエンコードを使用すべきか判断できません。</font></p>  <p><font size="-1">URL に ASCII 以外の文字が含まれている場合は、Python 2.3 以降を使用してサイトマップ生成ツールのスクリプトを実行することをお勧めします。 Python 2.3 以降のバージョンでは、 ASCII 以外の文字のサポートが強化されています。 Python 2.3 より前のバージョンでは Internationalizing Domain Names in Applications (IDNA) がサポートされていません。 IDNA がサポートされていない場合、サイトマップ生成ツールでは、ASCII 以外の文字が含まれるドメイン名を正しくエンコードできません。</font></p>  <font size="-1">     <br>  <p class="d" align="right"><i>最終更新日:  2006 年 4 月 15 日</i></p>  </font></div>  </td>  </tr>  <tr>  <td width="1%" valign="top"><img src="http://www.google.com/images/art.gif" width="143" height="53" vspace="5" hspace="15"></td>  <td style="background-color: #ffffff" width="1" valign="top"><img src="http://www.google.com/images/cleardot.gif" width="1" height="1"></td>  <td style="background-color: #ffffff" width="10" valign="top"><img src="http://www.google.com/images/cleardot.gif" width="1" height="1"></td>  <td valign="middle"><div class="footer">  <div align="center"><font size="-1"> &copy;2007 Google - <a href="http://www.google.com/privacy.html">プライバシー ポリシー</a> - <a href="http://www.google.com/accounts/TOS">利用規約</a> - <a href="http://www.google.com/about.html">Google について</a> </font></div>  </div></td>  </tr> </table> </body> </html>  